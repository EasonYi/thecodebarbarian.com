extends layout

block title
  title The Code Barbarian | www.thecodebarbarian.com

block content
  div#carbonads-fixed
    script( type="text/javascript"
            src="//cdn.carbonads.com/carbon.js?zoneid=1673&serve=C6AILKT&placement=thecodebarbariancom"
            id="_carbonads_js")
  div.container
    div.col-lg-12.hero-row
      a(href=posts[0].dest.directory.substr('./bin'.length) + '/' + posts[0].dest.name + '.html')
        div.col-lg-8
          div.row
            div.col-lg-12.hero-image(style="background-image:url('" + (posts[0].image || '/images/Barbarian_Head.png') + "');")
            div.row
              div.col-lg-12
                h1.hero-title
                  | #{posts[0].title}
              div.title-byline-container
                div.hero-credits
                  | #{posts[0].date.format('MMMM DD, YYYY')}
        div.col-lg-4.home-popular
          p.right-bar-label#home-popular-label Most Popular 
            ul.list-unstyled
              li.right-bar-li
                a(href="http://thecodebarbarian.com/common-async-await-design-patterns-in-node.js.html")
                  | Common Async/Await Design Patterns in Node.js
              li.right-bar-li
                a(href="http://thecodebarbarian.com/unhandled-promise-rejections-in-node.js.html")
                  | Unhandled Promise Rejections in Node.js
              li.right-bar-li
                a(href="http://thecodebarbarian.com/80-20-guide-to-async-await-in-node.js.html")
                  | The 80/20 Guide to Async/Await in Node.js
              li.right-bar-li
                a(href="http://thecodebarbarian.com/getting-started-with-webassembly-in-node.js.html")
                  | Getting Started With WebAssembly in Node.js
              li.right-bar-li
                a(href="http://thecodebarbarian.com/2015/01/24/angularjs-interceptors.html")
                  | An 80/20 Guide to AngularJS HTTP Interceptors

    div.col-lg-12
      div.row
        p.home-grid-label Most Recent
      for post, i in posts
        - if ( i < 7 && i != 0 )
          div.col-lg-4.home-post-grid-member
            a(href=post.dest.directory.substr('./bin'.length) + '/' + post.dest.name + '.html')
              div.home-post-image(style="background-image:url('" + (post.image || '/images/Barbarian_Head.png') + "');")
              h3.home-post-title
                | #{post.title}
              div.home-date
                | #{post.date.format('MMMM DD, YYYY')}
              div.home-preview
                em !{post.preview}

      div.row
        div.pull-right
          a(href="/page/1") Older Articles >>
  
  style.
    .native-js {
      visibility: hidden;
      transition: all .25s ease-in-out;
      opacity: 0;
      flex-flow: column nowrap;
      transform: translateY(calc(100% - 35px));
      max-width: 100%;
      }

      .native-show {
      visibility: visible;
      position: fixed;
      width: 100%;
      bottom: 0;
      box-shadow: 0 -1px 4px 1px hsla(0, 0%, 0%, .15);
      opacity: 1;
      z-index: 10;
      }

      .native-show:hover {
      transform: translateY(0);
      }

      .native-img {
      margin-right: 20px;
      max-height: 50px;
      border-radius: 3px;
      width: auto;
      }

      .native-sponsor {
      margin: 10px 20px;
      text-align: center;
      text-transform: uppercase;
      transform-origin: left;
      letter-spacing: .5px;
      transition: all .3s ease-in-out;
      font-size: 12px;
      }

      .native-show:hover .native-sponsor {
      transform: scaleY(0);
      margin: 0 20px;
      opacity: 0;
      }

      .native-flex {
      display: flex;
      padding: 20px 20px 40px;
      text-decoration: none;

      flex-flow: row nowrap;
      justify-content: space-between;
      align-items: center;
      }

      .native-main {
      display: flex;

      flex-flow: row nowrap;
      align-items: center;
      }

      .native-details {
      display: flex;
      margin-right: 30px;

      flex-flow: column nowrap;
      }

      .native-company {
      margin-bottom: 4px;
      text-transform: uppercase;
      letter-spacing: 2px;
      font-size: 10px;
      }

      .native-desc {
      letter-spacing: 1px;
      font-weight: 300;
      line-height: 1.4;
      }

      .native-cta {
      padding: 10px 14px;
      border-radius: 3px;
      box-shadow: 0 6px 13px 0 hsla(0, 0%, 0%, .15);
      text-transform: uppercase;
      white-space: nowrap;
      letter-spacing: 1px;
      font-weight: 400;
      font-size: 12px;
      transition: all .3s ease-in-out;
      transform: translateY(-1px);
      }

      .native-cta:hover {
      box-shadow: none;
      transform: translateY(1px);
      }

      @media only screen and (min-width: 320px) and (max-width: 759px) {
      .native-flex {
        flex-wrap: wrap;
        flex-direction: column;
      }

      .native-img {
        margin: 0;
      }

      .native-details {
        margin: 0;
      }

      .native-main {
        margin-bottom: 20px;
        flex-wrap: wrap;
        flex-direction: column;
        text-align: center;
        align-content: center;
      }
      }

  div(class="native-js").
    <script type="text/javascript" src="/js/native.js"></script>

    <script type="text/javascript">
      _native.init("CK7DT53N", {
        targetClass: 'native-js',
        display: 'flex',
        visibleClass: 'native-show'
      });
    </script>

    <div class="native-sponsor">Sponsored by #native_company# - Learn More</div>
    <a href="#native_link#" class="native-flex">
      <style>
      .native-js {
        background: linear-gradient(-30deg, #native_bg_color#E5, #native_bg_color#E5 45%, #native_bg_color# 45%) #fff;
      }

      .native-details,
      .native-sponsor,
      .native-bsa {
        color: #native_color# !important;
      }

      .native-details:hover {
        color: #native_color_hover# !important;
      }

      .native-cta {
        color: #native_cta_color#;
        background-color: #native_cta_bg_color#;
      }

      .native-cta:hover {
        color: #native_cta_color_hover;
        background-color: #native_cta_bg_color_hover#;
      }
      </style>
      <div class="native-main">
        <img class="native-img" src="#native_logo#">
        <div class="native-details">
          <span class="native-company">#native_title#</span>
          <span class="native-desc">#native_desc#</span>
        </div>
      </div>
      <span class="native-cta">#native_cta#</span>
    </a>
