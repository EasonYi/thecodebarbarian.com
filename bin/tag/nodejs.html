<html><head><script type="text/javascript">var _sf_startpt=(new Date()).getTime()
</script><title>NodeJS | www.thecodebarbarian.com</title><meta name="viewport" content="width=device-width, initial-scale=1"/><link href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet" type="text/css"/><link href="//fonts.googleapis.com/css?family=Source+Sans+Pro:200,300,400,600" rel="stylesheet" type="text/css"/><link href="//fonts.googleapis.com/css?family=Merriweather:400,400italic,600,700" rel="stylesheet" type="text/css"/><link href="//maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet"/><link href="/style/style.css" rel="stylesheet" type="text/css"/><link href="/style/github.css" rel="stylesheet" type="text/css"/><script href="http://code.jquery.com/jquery-2.1.1.min.js" type="text/javascript"></script><script href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/js/bootstrap.min.js" type="text/javascript"></script><script href="/javascript/sidebar.js" type="text/javascript"></script></head><body><div class="navbar social-links hidden-sm hidden-xs"><div class="container"><ul class="nav navbar-nav navbar-right"><li><a href="http://www.twitter.com/code_barbarian">twitter</a></li><li><a href="http://www.github.com/vkarpov15">github</a></li><li><a href="http://thecodebarbarian.com/feed.xml">rss</a></li><li><a href="/recommendations">recommendations</a></li></ul></div></div><div id="nav" class="navbar"><div class="container"><div class="navbar-header"><a href="http://thecodebarbarian.com" class="navbar-brand big-brand"><img src="/images/Barbarian_Head.png" class="logo"/><span class="site-name">The Code Barbarian</span></a></div><div id="home-nav-mobile" class="navbar-right collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href="/tag/mongodb.html">MongoDB</a></li><li><a href="/tag/nodejs.html">NodeJS</a></li><li><a href="/tag/asyncawait.html">Async/Await</a></li><li><a href="/tag/vue.html">Vue</a></li><li class="hidden-md hidden-lg"><a href="#">@code_barbarian</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Github</a></li><li class="hidden-md hidden-lg"><a href="#">TCB Facebook</a></li></ul></div></div></div><div class="container-fluid"></div><div id="mobile-sharing-options" class="container-fluid hidden-sm hidden-md hidden-lg"><div class="row"><div class="col-lg-12"></div></div></div><div id="carbonads-fixed"><script type="text/javascript" src="//cdn.carbonads.com/carbon.js?zoneid=1673&amp;serve=C6AILKT&amp;placement=thecodebarbariancom" id="_carbonads_js"></script></div><div class="container"><div class="row"><div class="col-lg-9"><div class="container-fluid"><div class="row"><h2><a href="/formatting-javascript-dates-with-moment-js">Formatting JavaScript Dates with Moment.js</a></h2><div class="title-byline-container"><div class="credits">October 23, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/pebblebeach.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>It is certainly possible to</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/the-80-20-guide-to-svgs-in-javascript">The 80/20 Guide to SVGs in JavaScript</a></h2><div class="title-byline-container"><div class="credits">October 16, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/ca.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://www.sitepoint.com/svg-101-what-is-svg/">SVG</a> is an image format that is especially</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-schema-design-pattern-store-what-you-query-for">Mongoose Design Pattern: Store What You Query For</a></h2><div class="title-byline-container"><div class="credits">October 09, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/sba.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>A common gotcha with <a href="https://mongoosejs.com/docs/populate.html">Mongoose populate</a></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/the-80-20-guide-to-maps-in-javascript">The 80/20 Guide to Maps in JavaScript</a></h2><div class="title-byline-container"><div class="credits">September 18, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/201909_globe.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p>In JavaScript, a <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Map">Map</a> is an object that stores key/value pairs. Maps are</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-5-7-conditional-immutability-document-array-perf">What's New in Mongoose 5.7: Conditional Immutability, Faster Document Arrays</a></h2><div class="title-byline-container"><div class="credits">September 11, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/nj.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#570--2019-09-09">Mongoose 5.7.0</a> was released on September 9 and is packed with new features. One major highlight</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/a-practical-guide-to-symbols-in-javascript">A Practical Guide to Symbols in JavaScript</a></h2><div class="title-byline-container"><div class="credits">August 28, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/sfba.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>JavaScript introduced <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Symbol">symbols</a> in ES6 as a way to <a href="https://medium.com/intrinsic/javascript-symbols-but-why-6b02768f4a5c">prevent property name collisions</a>. As an added bonus, symbols also provide a way to simulate <a href="/nodejs-12-private-class-fields.html">private properties</a> in 2015-2019 JavaScript.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/async-generator-functions-in-javascript">Async Generator Functions in JavaScript</a></h2><div class="title-byline-container"><div class="credits">August 07, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/bigsky2.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>The <a href="https://github.com/tc39/proposal-async-iteration">TC39 async iterators proposal</a> that brought <a href="http://thecodebarbarian.com/getting-started-with-async-iterators-in-node-js"><code>for/await/of</code> to JavaScript</a> also introduced the concept of an <a href="https://github.com/tc39/proposal-async-iteration#async-generator-functions">async generator function</a>. Now, JavaScript has 6 distinct types of functions:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/control-chrome-from-node-js-with-puppeteer">Control Chrome from Node.js with Puppeteer</a></h2><div class="title-byline-container"><div class="credits">July 23, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/20190722_bigsky.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://developers.google.com/web/tools/puppeteer/">Puppeteer</a> is Google&#39;s official npm module for controlling Chrome from Node.js. Using Puppeteer, you can open up a Chrome browser, navigate to an arbitrary page, and interact with the page by executing arbitrary JavaScript. Here&#39;s a short list of what you can do with Puppeteer:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/async-await-error-handling-in-javascript">Async Await Error Handling in JavaScript</a></h2><div class="title-byline-container"><div class="credits">July 09, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/20190709_sfba.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Error handling in async/await causes a lot of confusion. There are</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/async-functions-in-javascript">Async Functions in JavaScript</a></h2><div class="title-byline-container"><div class="credits">June 26, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/20190627_pacifica.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function">Async functions</a> were introduced in the 2017 edition of the JavaScript language spec. Async functions differ from <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Functions">normal JavaScript functions</a> in 2 major ways:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/whats-new-in-mongoose-5-6-immutable-properties">What's New in Mongoose 5.6.0: Immutable Properties</a></h2><div class="title-byline-container"><div class="credits">June 18, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/20190618_mountain.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#560--2019-06-14">Mongoose 5.6.0 was released last week</a>. This new release has 12 new features, 2 performance improvements, and several docs improvements. The most interesting new feature is <a href="https://mongoosejs.com/docs/api/schematype.html#schematype_SchemaType-immutable">immutable properties</a>. The idea is that marking a property as immutable means that property cannot change after the document is created.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/the-80-20-guide-to-javascript-arrays">The 80/20 Guide to JavaScript Arrays</a></h2><div class="title-byline-container"><div class="credits">June 11, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/20190611_bijela.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">JavaScript arrays</a> are an essential part of the language. Fundamentally, an array is a value that stores an ordered list of other values. But JavaScript arrays come with a lot of nuances and surprises. In this article, I&#39;ll provide an overview of what you need to know about JavaScript arrays.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/testing-vue-apps-with-puppeteer-and-mocha">Testing Vue Apps with Puppeteer and Mocha</a></h2><div class="title-byline-container"><div class="credits">June 05, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://codebarbarian-images.s3.amazonaws.com/20190605_geneva.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://www.npmjs.com/package/puppeteer">Puppeteer</a> is a powerful automation library for Google Chrome. With <a href="/control-chrome-from-node-js-with-puppeteer.html">Puppeteer</a>, you can launch a Chrome browser that you have full control over from Node.js. This makes UI testing easy: your client-side app runs in a real browser, no need to worry about <a href="https://mongoosejs.com/docs/jest.html">the painful quirks of Jest attempting to mimic a browser in Node.js</a>. Puppeteer runs in headless mode by default, which means the Chrome window isn&#39;t visible. But you can still take screenshots in headless mode, or you can disable headless mode and watch your tests click through your app.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/the-80-20-guide-to-json-stringify-in-javascript">The 80/20 Guide to JSON.stringify in JavaScript</a></h2><div class="title-byline-container"><div class="credits">May 28, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190528_hbp.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/stringify"><code>JSON.stringify()</code> function</a> is the canonical way to convert a JavaScript object to <a href="https://www.json.org/">JSON</a>. Many JavaScript frameworks use <code>JSON.stringify()</code> under the hood: <a href="http://expressjs.com/en/4x/api.html#res.json">Express&#39; <code>res.json()</code></a>, <a href="https://github.com/axios/axios#example">Axios&#39; <code>post()</code></a>, and <a href="https://webpack.js.org/configuration/stats/">Webpack stats</a> all call <code>JSON.stringify()</code>. In this article, I&#39;ll provide a practical overview of <code>JSON.stringify()</code>, including error cases.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/the-80-20-guide-to-promises-in-node-js">The 80/20 Guide to Promises in Node.js</a></h2><div class="title-byline-container"><div class="credits">May 22, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190522_surf.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promises</a> are a built-in concurrency primitive that&#39;s been part of JavaScript since <a href="https://www.w3schools.com/js/js_es6.asp">ES6 in 2015</a>. The <code>Promise</code> class has been included in Node.js since <code>v4.0.0</code>. That means, unless you&#39;re on an unmaintained version of Node.js, you can use promises without any outside libraries.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/nodejs-12-private-class-fields">What's New in Node.js 12: Private Class Fields</a></h2><div class="title-byline-container"><div class="credits">May 14, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190514_arista.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/tc39/proposal-class-fields#private-fields">Private class fields</a> are a <a href="https://tc39.github.io/process-document/">Stage 3 TC39 proposal</a>. Even though they&#39;re still experimental, you can use private class fields in Node.js 12 without flags or transpilers. In this article, I&#39;ll explain the basics of private class fields and how they interact with existing paradigms, like <code>Object.keys()</code> and <a href="https://nodejs.org/api/assert.html#assert_assert_deepstrictequal_actual_expected_message"><code>assert.deepStrictEqual()</code></a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/slow-trains-in-mongodb-and-nodejs">Slow Trains in MongoDB and Node.js</a></h2><div class="title-byline-container"><div class="credits">May 06, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190506_train.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p>When running MongoDB in production, you may see queries that should be fast, but instead are exceedingly slow. For example, my Node.js apps have seen a <a href="http://mongodb.github.io/node-mongodb-native/3.1/api/Collection.html#findOne"><code>findOne()</code></a> on a collection with only 1 document take over 1 <em>second</em>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/nodejs-12-imports">What's New in Node.js 12: ESM Imports</a></h2><div class="title-byline-container"><div class="credits">April 25, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190425_breck.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>It&#39;s finally happened: nearly 4 years after <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/import">the <code>import</code> keyword</a> was introduced in ES6, Node.js introduced experimental support for ES6 imports and exports. In Node.js 12, you can use <code>import</code> and <code>export</code> in your project if you do both of the below items.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-5-5-static-hooks-and-populate-match-functions">What's New in Mongoose 5.5: Static Hooks, Populate Match Functions</a></h2><div class="title-byline-container"><div class="credits">April 12, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190412_alta.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#550--2019-04-08">Mongoose 5.5</a> was released earlier this week. This release includes 12 new features and a <a href="https://twitter.com/mongoosejs/status/1116360293981069312">performance improvement</a>. The two features I&#39;m most excited about are hooks for <a href="https://mongoosejs.com/docs/guide.html#statics">user-defined static functions</a> and the ability to pass a function to <a href="https://mongoosejs.com/docs/api.html#query_Query-populate">populate&#39;s <code>match</code> option</a>. In this article, I&#39;ll introduce these two new features and show how they can save you some design headache.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/80-20-guide-to-the-npx-package-runner">The 80/20 Guide to npx</a></h2><div class="title-byline-container"><div class="credits">April 02, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190402_npx.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://medium.com/@maybekatz/introducing-npx-an-npm-package-runner-55f7d4bd282b">npx</a> is a separate executable that has been shipped alongside Node.js and npm since 2017. npx is a flexible tool for running node packages that makes <a href="https://thecodebarbarian.com/2015/02/27/npm-install--g">installing npm packages globally</a> largely obsolete. In this article, I&#39;ll demonstrate how npx lets you avoid <code>npm install -g</code>, and show a couple other cool things npx can do.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/an-introduction-to-npm">An Introduction to npm</a></h2><div class="title-byline-container"><div class="credits">March 26, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190326_cdm.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://www.npmjs.com/">npm</a> is the de facto package manager for Node.js, roughly analagous to <a href="https://www.w3schools.com/python/python_pip.asp">pip for Python</a> or <a href="https://maven.apache.org/index.html">Maven for Java</a>. There are several alternatives, like <a href="https://yarnpkg.com/en/">Yarn</a> and <a href="https://medium.com/@ericsimons/introducing-turbo-5x-faster-than-yarn-npm-and-runs-natively-in-browser-cc2c39715403">Turbo</a>, but npm is automatically installed when you install Node.js. The <a href="https://docs.npmjs.com/misc/registry">npm registry</a> is huge, with over 800k packages at the time of this writing, so there&#39;s a package for almost everything. In this article, I&#39;ll provide a brief overview of what npm can do for you. </p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/string-replace-in-javascript">String Replace in JavaScript</a></h2><div class="title-byline-container"><div class="credits">March 21, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190321_alta.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>The <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace"><code>String#replace()</code></a> function replaces instances of a substring with another substring, and returns the modified string. This function seems simple at first, but <code>String#replace()</code> can do a whole lot more than just replace &#39;foo&#39; with &#39;bar&#39;. In this article, I&#39;ll explain some more sophisticated ways to use <code>String#replace()</code>, and highlight some common pitfalls to avoid.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/building-a-form-with-vue">Building a Form with Vue.js</a></h2><div class="title-byline-container"><div class="credits">March 12, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190309_switzerland.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://vuejs.org/">Vue</a> has grown by leaps and bounds over the last couple years, and <a href="https://2018.stateofjs.com/front-end-frameworks/overview/">overtook Angular as the #2 frontend framework in 2018</a>. According to the <a href="https://2018.stateofjs.com/">State of JS survey</a>, Vue is the #1 frontend framework that isn&#39;t associated with <a href="https://en.wikipedia.org/wiki/Facebook">a serial bad actor</a>, which makes it worth learning if you&#39;re serious about going <a href="https://m.signalvnoise.com/become-a-facebook-free-business/">Facebook-free</a>. In this article, I&#39;ll walk through building a simple form with Vue.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/an-overview-of-es6-classes">An Overview of ES6 Classes</a></h2><div class="title-byline-container"><div class="credits">March 05, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190305_napa.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>JavaScript introduced the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes"><code>class</code> keyword</a> in 2015 with the release of ES6. React made classes an indispensable language feature when they introduced support for <a href="https://github.com/facebook/react/blob/master/CHANGELOG.md#0130-march-10-2015">using <code>extends React.Component</code> instead of <code>React.createClass()</code> in 2015</a>, and removed support for <a href="https://github.com/facebook/react/blob/master/CHANGELOG.md#1600-september-26-2017"><code>React.createClass()</code> entirely in 2017</a> in favor of classes. Today, classes are a fundamental part of JavaScript, and many new JavaScript devs don&#39;t remember a time before classes. In this article, I&#39;ll provide an overview of how classes work in JavaScript: how to declare classes, what features JavaScript provides with classes, and how inheritance works.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/how-find-works-in-mongoose">How find() Works in Mongoose</a></h2><div class="title-byline-container"><div class="credits">February 26, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190226_plitvice.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>There&#39;s <a href="https://stackoverflow.com/questions/15852043/mongoose-find-how-to-access-the-result-documents">some confusion</a> on the internet about what happens when you call <a href="https://mongoosejs.com/docs/api.html#model_Model.find"><code>Model.find()</code></a> in Mongoose. Make no mistake, <code>Model.find()</code> does what you expect: find all documents that match a query. But there&#39;s some confusion about <code>Model.find()</code> vs <a href="https://mongoosejs.com/docs/api.html#query_Query-find"><code>Query#find()</code></a>, setting options, <a href="https://thecodebarbarian.com/write-your-own-node-js-promise-library-from-scratch.html">promise</a> support. In this article, I&#39;ll provide a conceptual overview of what happens when you call <code>Model.find()</code> so you can answer similar questions for yourself.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/for-vs-for-each-vs-for-in-vs-for-of-in-javascript">For vs forEach() vs for/in vs for/of in JavaScript</a></h2><div class="title-byline-container"><div class="credits">February 20, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190220_montenegro.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>There&#39;s numerous ways to loop over arrays and objects in JavaScript, and the</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/convert-values-to-strings-in-javascript-with-archetype">Convert Values to Strings in JavaScript with Archetype</a></h2><div class="title-byline-container"><div class="credits">February 12, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190207_statue.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Converting an <a href="http://2ality.com/2012/03/converting-to-string.html">arbitrary value to a string in JavaScript</a> is surprisingly nuanced. There are 3 common ways to convert <code>v</code> to a string:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/whats-new-in-es2019-flat-flatmap-catch">What's New in ES2019: Array flat and flatMap, Object.fromEntries</a></h2><div class="title-byline-container"><div class="credits">February 05, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190205_cocoa_beach.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://tc39.github.io/ecma262/">ES2019</a> was recently finalized, which means JavaScript has several new language features to learn. These features are now available in Chrome 73:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/object-assign-vs-object-spread">Object.assign vs Object Spread in Node.js</a></h2><div class="title-byline-container"><div class="credits">January 29, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190128_beaver_creek.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>The <a href="https://github.com/tc39/proposal-object-rest-spread">Object Rest/Spread Proposal</a> reached <a href="https://tc39.github.io/process-document/">stage 4</a> in 2018, which means it will be included in a future iteration of the ECMAScript spec. It&#39;s also been included in Node.js LTS since Node.js 8, so you can safely start using it today.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/convert-a-string-to-a-number-in-javascript">Convert a String to a Number in JavaScript</a></h2><div class="title-byline-container"><div class="credits">January 22, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190122.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Converting a string to a number in JavaScript is <a href="https://gomakethings.com/converting-strings-to-numbers-with-vanilla-javascript/">surprisingly subtle</a>. With <code>NaN</code>, <a href="https://www.w3schools.com/jsref/jsref_parseint.asp">implicit radixes</a>, and numbers vs <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number">Numbers</a>, there are a lot of ways to shoot yourself in the foot. In this article, I&#39;ll cover the tradeoffs of <code>parseFloat()</code> vs <code>Number()</code> and <code>Number.isNaN()</code> vs <code>isNaN()</code>. I&#39;ll also describe how to enforce these rules with <a href="https://eslint.org/">eslint</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/whats-new-in-mongoose-54-model-events-and-populate-count">What's New in Mongoose 5.4: Model Events and Populate Count</a></h2><div class="title-byline-container"><div class="credits">January 14, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190114_provence.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://js.report/package/mongoose/5.4.0">Mongoose 5.4</a> was released on December 14, with 13 new features. The overarching theme for 5.4 is making <a href="http://thecodebarbarian.com/whats-new-in-mongoose-54-global-schematype-configuration.html">Mongoose SchemaTypes more configurable</a>, but that isn&#39;t the whole story. Mongoose 5.4 has several new features that will help you make your apps more robust and concise. In this article, I&#39;ll cover the new <a href="https://mongoosejs.com/docs/api.html#model_Model-events"><code>Model.events</code> property</a> and the new <a href="https://mongoosejs.com/docs/populate.html#count"><code>count</code> option for virtual populate</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/async-stack-traces-in-node-js-12">Async Stack Traces in Node.js 12</a></h2><div class="title-byline-container"><div class="credits">January 08, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20180108_ships.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>The V8 team announced that they were <a href="https://v8.dev/blog/fast-async">making some major performance improvements to async/await</a>, including adding a <a href="https://v8.dev/blog/fast-async#improved-developer-experience"><code>--async-stack-traces</code> option</a> that will make debugging async functions easier. You can try out these new options with a <a href="https://nodejs.org/download/nightly/">nightly Node.js build</a>. For example, here&#39;s the command I ran to download the January 8, 2019 nightly build of Node.js 12:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/whats-new-in-mongoose-54-global-schematype-configuration">What's New in Mongoose 5.4: Global SchemaType Configuration</a></h2><div class="title-byline-container"><div class="credits">January 03, 2019</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20190103_globe.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://js.report/package/mongoose/5.4.0">Mongoose 5.4</a> was released on December 14, with 13 new features. The overarching theme for the most important new features is making <a href="https://mongoosejs.com/docs/schematypes.html">Mongoose SchemaTypes</a> configurable at the level of individual types. Before digging in to the new features, let&#39;s first review what a SchemaType is.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-prototype-pollution-vulnerability-disclosure">Mongoose Prototype Pollution Vulnerability Disclosure</a></h2><div class="title-byline-container"><div class="credits">December 03, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/tiger.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p>In August, the <a href="https://semmle.com/">Semmle Security Research Team</a> found <a href="https://twitter.com/mongoosejs/status/1035212908232200192">a security vulnerability</a> affecting all versions of Mongoose before 5.2.12 and 4.13.17. We released a <a href="https://github.com/Automattic/mongoose/blob/master/History.md#5212--2018-08-30">fix</a> on August 30 and encouraged everyone to upgrade via <a href="https://twitter.com/mongoosejs/status/1035212908232200192">Twitter</a>, our <a href="http://slack.mongoosejs.io/">Slack channel</a>, and our <a href="https://gitter.im/Automattic/mongoose">Gitter chat</a>. <a href="https://hackerone.com/bugs?report_id=390860&amp;subject=user">HackerOne recently released a formal disclosure</a> of this issue on November 30. This blog post constitutes Mongoose&#39;s <a href="https://en.wikipedia.org/wiki/Responsible_disclosure">full disclosure after a period of responsible disclosure</a>. In this article, I&#39;ll describe the vulnerability and how Mongoose patched it.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/accepting-credit-cards-with-stripe-elements-and-preact">Accepting Credit Cards with Stripe Elements and Preact</a></h2><div class="title-byline-container"><div class="credits">November 14, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/cc.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Stripe&#39;s v3 API introduced a controversial change: you can no longer use Stripe with custom payment forms, you <a href="https://github.com/stripe/react-stripe-elements/issues/19">must use the new Stripe Elements interface</a>. This change is brutal from a developer experience perspective, because you need to figure out how to rewrite your app to use the new API, and the <a href="https://stripe.com/docs">existing docs</a> are written for vanilla JavaScript. There is a <a href="https://www.npmjs.com/package/react-stripe-elements">React library</a>, but it is <a href="https://github.com/stripe/react-stripe-elements/issues/19#issue-233402236">heavy</a> and there&#39;s no information as to whether it actually works with <a href="http://npmjs.com/package/preact">Preact</a>. In this article, I&#39;ll present a basic proof of concept of using the vanilla Stripe Elements library and Preact.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/static-properties-in-javascript-with-inheritance">Static Properties in JavaScript Classes with Inheritance</a></h2><div class="title-byline-container"><div class="credits">November 07, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20181107_oldcar.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Since ES6, JavaScript enjoys support for classes and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Classes/static">static functions</a> akin to static functions in other object-oriented languages. Unfortunately, JavaScript lacks support for static properties, and <a href="https://esdiscuss.org/topic/define-static-properties-and-prototype-properties-with-the-class-syntax">recommended solutions on Google</a> fail to take into account inheritance. I ran into this problem when <a href="https://github.com/Automattic/mongoose/issues/6912">implementing a new Mongoose feature</a> that requires a more robust notion of static properties. Specifically, I need static properties that support inheritance via setting <code>prototype</code> or via <a href="https://medium.com/beginners-guide-to-mobile-web-development/super-and-extends-in-javascript-es6-understanding-the-tough-parts-6120372d3420"><code>extends</code></a>. In this article, I&#39;ll describe a pattern for implementing static properties in ES6.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/building-a-form-with-preact">Building a Form with Preact</a></h2><div class="title-byline-container"><div class="credits">November 02, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20181102_checkbox.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://www.npmjs.com/package/preact">Preact</a> is a simplified alternative to React that focuses on bundle size. A minified bundle with Preact and a minimal <a href="https://webpack.js.org/">Webpack</a> config ends up being around 10KB. A minimal unbundled React bundle ends up being around 100KB because of <a href="https://www.npmjs.com/package/react-dom">react-dom</a>. Because Preact bundles are comparatively tiny, Preact is a great choice for making sure your app feels snappy.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/creating-qr-codes-with-node-js">Creating and Reading QR Codes with Node.js</a></h2><div class="title-byline-container"><div class="credits">October 25, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20181025_ipad.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p>A <a href="https://en.wikipedia.org/wiki/QR_code">QR Code</a> is a 2-dimensional bar code. They&#39;re generally used to encode a URL so someone can just scan the code and visit a site. QR codes can encode all sorts of data beyond just URLs, I used a <a href="https://www.thelevelup.com/">QR code to pay for my lunch</a> today. In this article, I&#39;ll walk you generating and reading QR codes in Node.js using 2 separate libraries.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/whats-new-in-mongoose-53-async-iterators">What's New in Mongoose 5.3: Async Iterators</a></h2><div class="title-byline-container"><div class="credits">October 11, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20181011_stairs.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#530--2018-09-28">Mongoose 5.3.0</a> was shipped on September 28. This minor release includes 17 new features and improvements, including support for JavaScript&#39;s new <a href="http://thecodebarbarian.com/getting-started-with-async-iterators-in-node-js">async iterator</a> feature. Async iterators were introduced in <a href="https://medium.com/front-end-hacking/javascript-whats-new-in-ecmascript-2018-es2018-17ede97f36d5">ECMAScript 2018</a> and are natively supported in Node.js 10.x.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/whats-new-in-mongoose-53-orfail-and-global-toobject">What's New in Mongoose 5.3: `orFail()` and Global `toObject` Options</a></h2><div class="title-byline-container"><div class="credits">October 03, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20181003_mongoose.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#530--2018-09-28">Mongoose 5.3.0</a> was shipped on September 28. This minor release includes 17 new features and improvements that will help you clean up repetitive code. In particular, the <a href="https://mongoosejs.com/docs/api.html#query_Query-orFail"><code>orFail()</code> query helper</a> and the new <a href="https://mongoosejs.com/docs/api.html#mongoose_Mongoose-set"><code>toObject</code> and <code>toJSON</code> global options</a> will make life much easier for devs building <a href="http://expressjs.com/">Express</a> APIs and backend services with Mongoose. In this article, I&#39;ll provide an overview of these two features and what makes them so useful.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/a-beginners-guide-to-redux-observable">A Beginner's Guide to Redux-Observable</a></h2><div class="title-byline-container"><div class="credits">September 27, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/photo20180828.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This blog post originally appeared on <a href="https://blog.logrocket.com/a-beginners-guide-to-redux-observable-c0381da8ed3a">LogRocket&#39;s Medium publication</a>.</em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/bundling-a-node-js-function-for-aws-lambda-with-webpack">Bundling a Node.js Function for AWS Lambda with Webpack</a></h2><div class="title-byline-container"><div class="credits">September 25, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/20180925_motorcycle.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p>One of the major challenges when working with <a href="https://aws.amazon.com/lambda/">AWS Lambda</a> is bundling all your <code>node_modules</code> into <a href="https://mongoosejs.com/docs/lambda.html">one zip file</a>. Most simple examples rely on zipping up the entirety of <code>./node_modules</code>, but that doesn&#39;t scale well if you&#39;re looking to built a suite of Lambda functions as opposed to a single &quot;Hello, World&quot; example. In this article, I&#39;ll demonstrate the problem with zipping up Lambda functions yourself and show you how to use Webpack to bundle a Lambda function that connects to MongoDB.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/keeping-a-changelog-in-nodejs">Keeping a Changelog in Node.js</a></h2><div class="title-byline-container"><div class="credits">September 18, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/history20180918.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://keepachangelog.com/en/1.0.0/">Keeping a changelog</a> is an important practice that many developers don&#39;t value enough. Keeping a changelog makes it easy for humans to understand what the important changes in a new release are. Even if you squash commits, there&#39;s a key difference between git commit messages and changelogs: commit messages are for developers actively working on the project, changelogs are for consumers of the software. Plus, changelogs are more portable because they are typically written in markdown, so you can search a changelog using a text editor and ctrl+f.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/using-monogram-to-upgrade-from-mongodb-node-driver-2-to-3">Using Monogram to Upgrade From MongoDB Node Driver 2.x to 3.x</a></h2><div class="title-byline-container"><div class="credits">September 13, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/sewing20180913.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Let&#39;s be frank: backwards-breaking API changes are painful. Especially when</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/an-overview-of-bigint-in-node-js">An Overview of BigInt in Node.js</a></h2><div class="title-byline-container"><div class="credits">September 11, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/mountains20180911.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Support for arbitrarily large integers (BigInts) is a <a href="https://github.com/tc39/proposal-bigint">stage 3 TC39 proposal</a>. Stage 3 means the proposal is <a href="https://tc39.github.io/process-document/">ready and for browsers to start implementing</a>. Earlier this year, the <a href="https://v8project.blogspot.com/2018/05/bigint.html">V8 team added support for BigInts</a>, which means <a href="https://github.com/nodejs/node/blob/master/doc/changelogs/CHANGELOG_V10.md#2018-06-06-version-1040-current-mylesborins">Node.js 10.4.0</a> has BigInt support. You can use BigInts in Node.js 10.x without any flags, as long as you&#39;re on at least 10.4.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/introducing-await-js-express-async-support-for-express-apps">Introducing Awaitjs-Express: Async Function Support for Express</a></h2><div class="title-byline-container"><div class="credits">August 31, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://s3.amazonaws.com/codebarbarian-images/waterfalls20180831.jpeg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Arguably the biggest gap in <a href="http://expressjs.com/">Express&#39;</a> API is its</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/an-overview-of-buffers-in-node-js">An Overview of Buffers in Node.js</a></h2><div class="title-byline-container"><div class="credits">August 14, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/Lo6aVkP.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://nodejs.org/api/buffer.html">Buffers</a> are Node.js&#39; built-in type for storing arbitrary binary data. Because most Node.js developers don&#39;t use buffers much beyond occasionally <a href="https://nodejs.org/api/stream.html#stream_class_stream_readable">reading data from a file</a>,</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/an-overview-of-destructuring-assignments-in-node-js">An Overview of Destructuring Assignments in Node.js</a></h2><div class="title-byline-container"><div class="credits">August 03, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/Bejggnu.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>JavaScript introduced <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Destructuring_assignment">destructuring assignments</a> as part of the <a href="https://www.ecma-international.org/ecma-262/6.0/">2015 edition of the JavaScript language spec</a>. Destructuring assignments let you assign multiple variables in a single statement, making it much easier to pull values out of arrays and objects.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/offline-caching-with-service-workers">Offline Caching With Service Workers</a></h2><div class="title-byline-container"><div class="credits">July 27, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/Il2PXsU.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API">Service workers</a> are a versatile API used for numerous exciting new browser features, from <a href="https://googlechrome.github.io/samples/service-worker/prefetch/">pre-fetching resources</a> to <a href="http://thecodebarbarian.com/sending-web-push-notifications-from-node-js">push notifications</a>. One interesting feature is the <a href="https://developer.mozilla.org/en-US/docs/Web/API/Cache">Cache API</a>, which lets you store</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/web-analytics-with-mongodb-stitch">Web Analytics with MongoDB Stitch</a></h2><div class="title-byline-container"><div class="credits">July 24, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/zbSgrdq.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>One of the most exciting features of <a href="https://www.mongodb.com/cloud/stitch">MongoDB Stitch</a> is the ability to read and write</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/redux-saga-vs-async-await">Redux Saga vs Async/Await</a></h2><div class="title-byline-container"><div class="credits">July 19, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/Xk3qyn8.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>The <a href="https://www.npmjs.com/package/redux-saga">redux-saga</a> module is a plugin for <a href="https://www.npmjs.com/package/redux">redux</a> that runs <a href="http://thecodebarbarian.com/3-common-co-design-patterns">generator-based</a> functions in response to redux actions. Redux-saga generator functions are nice because they behave like <a href="http://npmjs.com/package/co">co</a>: if you <code>yield</code> a promise, redux-saga will unwrap the promise for you and throw a catchable error if the promise rejects. If you read <a href="http://es2015generators.com/">The 80/20 Guide to ES2015 Generators</a>, a <a href="https://www.npmjs.com/package/redux-saga#sagasjs">simple saga</a> should look familiar. However, <a href="https://github.com/redux-saga/redux-saga/issues/1373">redux-saga intends to keep using generators</a> rather than async/await. In this article, I&#39;ll provide a basic example of using redux-saga, explain why redux-saga can&#39;t move to async/await, and consider whether you even need redux-saga in the first place.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/getting-started-with-async-iterators-in-node-js">Getting Started with Async Iterators in Node.js</a></h2><div class="title-byline-container"><div class="credits">July 17, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/OdQsoAx.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://medium.com/front-end-hacking/javascript-whats-new-in-ecmascript-2018-es2018-17ede97f36d5">ES2018</a> introduces several new JavaScript language features that are great for Node.js developers. <a href="/using-promise-finally-in-node-js.html"><code>Promise.prototype.finally()</code> is the most important new feature</a>, but I think <a href="https://jakearchibald.com/2017/async-iterators-and-generators/">async iterators</a> are a close second. In this article, I&#39;ll describe what you need to start using async iterators in Node.js. I&#39;ll also provide an example of how to use async iterators with <a href="/cursors-in-mongoose-45.html">Mongoose cursors</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/testing-a-vanilla-js-app-with-cypress">Testing a Vanilla JS App with Cypress</a></h2><div class="title-byline-container"><div class="credits">July 12, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/7qgczuu.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://www.cypress.io/">Cypress</a> is a powerful integration testing framework</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/building-rest-apis-with-async-await-and-fastify">Building REST APIs with Async/Await and Fastify</a></h2><div class="title-byline-container"><div class="credits">July 10, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/TFlbKfa.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://www.npmjs.com/package/express">Express</a> is the most popular HTTP server framework for Node.js, but unfortunately it <a href="https://github.com/expressjs/express/issues/2259">doesn&#39;t have good support for async/await</a>. <a href="http://thecodebarbarian.com/using-async-await-with-mocha-express-and-mongoose#express">Express doesn&#39;t handle errors in async functions</a>. <a href="https://www.npmjs.com/package/fastify">Fastify</a> is an alternative Node.js server framework that enjoys much better support for async/await in addition to <a href="https://github.com/fastify/fastify#benchmarks">better performance</a>. In this article, I&#39;ll show you how Fastify works with async/await and show you the corner cases you need to be aware of.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/whats-new-in-mongoose-5-2-syncindexes">What's New in Mongoose 5.2.0: syncIndexes()</a></h2><div class="title-byline-container"><div class="credits">July 05, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/jUDmTsd.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Mongoose released <a href="https://github.com/Automattic/mongoose/blob/master/History.md#520--2018-07-02">v5.2.0</a> to support <a href="http://thecodebarbarian.com/a-node-js-perspective-on-mongodb-4-transactions.html">MongoDB 4.0 and transactions</a> this week. In addition to transaction support, Mongoose 5.2.0</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/a-node-js-perspective-on-mongodb-4-transactions">A Node.js Perspective on MongoDB 4.0: Transactions</a></h2><div class="title-byline-container"><div class="credits">July 02, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/RrTiade.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://www.mongodb.com/transactions">Transactions</a> are undoubtedly the most</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/introducing-run-rs-zero-config-mongodb-runner">Introducing run-rs, a Zero Config MongoDB Replica Set Runner</a></h2><div class="title-byline-container"><div class="credits">June 29, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/yFlPczm.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Transactions are undoubtedly the most exciting new feature in MongoDB 4.0.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/async-await-with-react-and-redux-thunk">Async/Await with React and Redux using Thunks</a></h2><div class="title-byline-container"><div class="credits">June 21, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/98c0ZXR.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>There&#39;s a lot of <a href="https://stackoverflow.com/questions/38357234/is-it-possible-to-use-async-await-in-react-js">misinformation on how to use async/await with React</a> and Redux. In general, React does <strong>not</strong> support async/await, but you can make it work with some caveats. In particular, <code>render()</code> cannot be async, but <a href="https://www.youtube.com/watch?v=v6iR3Zk4oDY">React suspense</a> may change this. For example, the below minimal example with Node.js 8.9.4, React 16.4.1, and React-DOM 16.4.1 will throw an error.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/new-ebook-mastering-async-await">New Ebook: Mastering Async/Await</a></h2><div class="title-byline-container"><div class="credits">June 14, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/qDwCRtE.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://thecodebarbarian.com/80-20-guide-to-async-await-in-node.js">Async/await</a> is the most important new feature in JavaScript in recent memory. <a href="http://thecodebarbarian.com/3-common-co-design-patterns">Generators</a> provided an alternative in ES6, but generators required <a href="http://npmjs.com/package/co">outside libraries</a> and provided more flexibility than most developers needed. When I was a <a href="http://audio.javascriptair.com/e/044-jsair-async-patterns-in-javascript-with-valeri-karpov-and-peter-lyons/">guest on the JavaScript Air podcast</a>, the host <a href="https://twitter.com/kentcdodds">Kent C. Dodds</a> asked me what generators could do that async/await couldn&#39;t, and my answer was essentially &quot;nothing that the vast majority of developers would care about.&quot;</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/stock-price-notifications-with-mongoose-and-mongodb-change-streams">Stock Price Notifications with Mongoose and MongoDB Change Streams</a></h2><div class="title-byline-container"><div class="credits">June 06, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/BvLogsw.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://docs.mongodb.com/manual/changeStreams/">MongoDB change streams</a> are a</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/announcing-acquit-1-0-0">Announcing Acquit 1.0.0: Generate Docs from Mocha Tests</a></h2><div class="title-byline-container"><div class="credits">May 31, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/b1PMm1t.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>After <a href="https://github.com/vkarpov15/acquit/graphs/contributors">nearly 4 years</a>, <a href="https://www.npmjs.com/package/acquit">Acquit</a>, the best tool for compiling <a href="http://npmjs.com/package/mocha">Mocha</a> tests into documentation on npm, is now at v1.0.0.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/getting-started-with-ripple-xrp-and-node-js">Getting Started With Ripple (XRP) and Node.js</a></h2><div class="title-byline-container"><div class="credits">May 24, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/jsufHDS.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://ripple.com/">Ripple</a> is a popular blockchain protocol. It is</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/whats-new-in-mongoose-5.1-map-support">What's New in Mongoose 5.1: Map Support</a></h2><div class="title-byline-container"><div class="credits">May 16, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/CaYuCtz.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#510--2018-05-10">Mongoose 5.1.0</a> was released on May 10, and introduced 10 new features. The feature I&#39;m most</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/sending-web-push-notifications-from-node-js">Sending Web Push Notifications from Node.js</a></h2><div class="title-byline-container"><div class="credits">May 08, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/YuhERzK.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Using <a href="https://developer.mozilla.org/en-US/docs/Web/API/Service_Worker_API">service workers</a>, you can send push notifications to Chrome straight from your Node.js app. The excellent</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/the-difference-between-async-await-and-generators">The Difference Between Async/Await and Generators</a></h2><div class="title-byline-container"><div class="credits">May 03, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/hrpJBRt.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://thecodebarbarian.com/common-async-await-design-patterns-in-node.js.html">Async/await</a> is the big new feature in the 2017 edition of the JavaScript language spec. However, async/await has a lot in common with <a href="http://thecodebarbarian.com/3-common-co-design-patterns">generators</a>, a new feature from the 2015 JavaScript language spec. There&#39;s <a href="https://stackoverflow.com/questions/36196608/difference-between-async-await-and-es6-yield-with-generators">plenty of questions on StackOverflow about what makes async/await different</a>, and with good reason. If you use <a href="https://www.npmjs.com/package/co">co</a>, your generator-based code looks a lot like async/await.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/getting-started-with-google-cloud-functions-and-mongodb">Getting Started With Google Cloud Functions and MongoDB</a></h2><div class="title-byline-container"><div class="credits">April 25, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/RVPygN1.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Serverless architectures are becoming increasingly popular, and with good</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/write-your-own-node-js-promise-library-from-scratch">Write Your Own Node.js Promise Library from Scratch</a></h2><div class="title-byline-container"><div class="credits">April 05, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/dPaWp33.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promises</a> are the preferred async primitive in JavaScript. <a href="http://thecodebarbarian.com/2015/03/20/callback-hell-is-a-myth">Callbacks</a> are becoming increasingly uncommon, especially now that <a href="http://thecodebarbarian.com/common-async-await-design-patterns-in-node.js.html">async/await is available in Node.js</a>. Async/await is based on promises, so you need to understand promises to master async/await. In this article, I&#39;ll walk you through writing your own promise library</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/getting-started-with-ibm-cloud-functions-and-mongodb">Getting Started With IBM Cloud Functions and MongoDB</a></h2><div class="title-byline-container"><div class="credits">March 30, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/nfDBmrx.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Serverless architectures are becoming increasingly popular, and with good</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/getting-started-with-azure-functions-and-mongodb">Getting Started With Azure Functions and MongoDB</a></h2><div class="title-byline-container"><div class="credits">March 23, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://user-images.githubusercontent.com/1620265/37794683-9a8d53de-2de8-11e8-9078-e639d08052bc.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Serverless architectures are becoming increasingly popular, but, when using</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/single-link-clustering-with-node-js">Single Link Clustering with Node.js</a></h2><div class="title-byline-container"><div class="credits">March 16, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/NhVPj8B.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://en.wikipedia.org/wiki/Cluster_analysis">Clustering</a> is the general study</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/building-a-wine-tasting-neural-network-with-node-js">Building a Wine Tasting Neural Network with Node.js</a></h2><div class="title-byline-container"><div class="credits">March 09, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/EzQ9d8W.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>One of the great perks of living in the San Francisco Bay Area is proximity to some amazing wine regions. Over the last couple years, I&#39;ve visited vineyards in regions like Napa Valley, Sonoma Valley, Paso Robles, and even <a href="https://www.lasafaris.com/">Malibu</a>. I recently ran into a <a href="https://archive.ics.uci.edu/ml/datasets/Wine+Quality">machine learning data set that has data on 6000 Portuguese wines</a> that includes a 1-10 quality rating, which seems like a great excuse to build a neural network that can predict the 1-10 quality rating based on factors like residual sugar and alcohol content. Effectively, this neural network attempts to match the wine palate of whoever put this data set together.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/algorithm-interview-questions-in-js-glob-matching">Algorithm Interview Questions in JavaScript: Glob Matching</a></h2><div class="title-byline-container"><div class="credits">March 02, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/0e7Sa0H.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Much to <a href="http://thecodebarbarian.com/i-dont-want-to-hire-you-if-you-cant-reverse-a-binary-tree">many people&#39;s chagrin</a>, the practice of asking algorithms questions in tech interviews doesn&#39;t seem like it is going anywhere. From what I&#39;ve heard though, more and more companies are allowing people to answer algorithms questions in JavaScript. In this week&#39;s article, I&#39;ll walk through a common interview question, <a href="https://en.wikipedia.org/wiki/Glob_(programming">glob matching</a>), and implement the solution in JavaScript.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/using-promise-finally-in-node-js">Using Promise.prototype.finally in Node.js</a></h2><div class="title-byline-container"><div class="credits">February 21, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/oLw5tRE.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Promise/finally"><code>Promise.prototype.finally()</code></a> recently reached <a href="https://github.com/tc39/proposals/blob/master/finished-proposals.md">stage 4</a> of the TC39 proposal process. This means the <code>Promise.prototype.finally()</code> proposal was accepted and is now part of the <a href="https://tc39.github.io/ecma262/#sec-promise.prototype.finally">latest draft of the ECMAScript spec</a>, and it is only a matter of time before it lands in Node.js. This article will show you how to use <code>Promise.prototype.finally()</code> and how to write your own simplified polyfill.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/a-nodejs-perspective-on-mongodb-36-lookup-expr">A Node.js Perspective on MongoDB 3.6: $lookup and $expr</a></h2><div class="title-byline-container"><div class="credits">February 16, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/Z0b9D29.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>MongoDB 3.2 introduced the <a href="https://docs.mongodb.com/manual/reference/operator/aggregation/lookup/"><code>$lookup</code> aggregation framework pipeline stage</a>, which let you pull documents from a separate collection into your aggregation framework pipeline. Before MongoDB 3.6, <code>$lookup</code> could only do <a href="https://docs.mongodb.com/manual/reference/operator/aggregation/lookup/#equality-match">left outer joins with equality matching</a>. In other words, suppose you had a collection of users, a collection of stocks, and a collection that mapped users to the stocks they hold. The <code>$lookup</code> stage can give you an array of stocks a user holds. But in MongoDB 3.2 and 3.4, <code>$lookup</code> could not give you just the stocks that had gone up in price since the customer bought them.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/a-nodejs-perspective-on-mongodb-36-change-streams">A Node.js Perspective on MongoDB 3.6: Change Streams</a></h2><div class="title-byline-container"><div class="credits">February 09, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/J2NBMg5.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Before MongoDB 3.6, <a href="https://www.mongodb.com/blog/post/tailing-mongodb-oplog-sharded-clusters">tailing the MongoDB oplog</a> was the only way to listen for changes to your MongoDB database. The <a href="https://docs.mongodb.com/manual/core/replica-set-oplog/">oplog</a> is a special collection that logs all inserts and updates that come in to your MongoDB server so other members of the <a href="https://docs.mongodb.com/manual/replication/">replica set</a> can copy them. Tools like <a href="https://themeteorchef.com/tutorials/setting-up-mongodb-oplog-tailing">Meteor</a> and <a href="https://stripe.com/blog/announcing-mosql">MoSQL</a> were built on tailing the oplog. Unfortunately, the oplog was built primarily to support replication internally as opposed to being a user-facing feature. <a href="https://docs.mongodb.com/manual/changeStreams/">Change streams</a> are a usability layer on top of the MongoDB oplog that make change detection in MongoDB much easier than tailing the oplog directly.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/a-nodejs-perspective-on-mongodb-36-array-filters">A Node.js Perspective on MongoDB 3.6: Array Filters</a></h2><div class="title-byline-container"><div class="credits">February 02, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/NFzvLez.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://tgrall.github.io/blog/2015/04/21/mongodb-playing-with-arrays/">Strong support for arrays</a> has always been one of MongoDB&#39;s killer features. For example, suppose you have a collection of blog posts where each document contains an array of comments as shown below. Before MongoDB 3.6, you could only update at most one element of the <code>comments</code> array at a time because of limitations with the <a href="https://docs.mongodb.com/manual/reference/operator/update/positional/">positional operator <code>$</code></a>. Array filters in MongoDB 3.6 remove that limitation and add several more exciting features, like updating nested arrays.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/whats-new-in-mongoose-5-improved-connections">What's New in Mongoose 5: Improved Connections</a></h2><div class="title-byline-container"><div class="credits">January 19, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/hv2oVuz.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>One of the major reasons for the mongoose 5 release was the <a href="https://github.com/mongodb/node-mongodb-native/blob/3.0.0/CHANGES_3.0.0.md#api-changes">MongoDB driver removing support for the <code>authenticate()</code> function</a>. Up until Mongoose 4.11, that function was the only way mongoose supported doing authentication. In Mongoose 4.11.0, we added the <a href="https://github.com/Automattic/mongoose/blob/master/History.md#4110--2017-06-25">annoying but necessary <code>useMongoClient</code> deprecation warning</a>, and in mongoose 5.0.0-rc0 we <a href="https://github.com/Automattic/mongoose/pull/5942/files#diff-259dec4414a400a6e895f16ff1d0ca3b">deleted 686 lines of legacy connection logic</a> that removed the need for the <code>useMongoClient</code> option. In addition, we made a couple related improvements to the connection API that will make mongoose much cleaner to work with: we made <code>mongoose.connect()</code> always return a promise, and we added a global and connection-level <code>bufferCommands</code> option.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/whats-new-in-mongoose-5-improved-post-hooks">What's New in Mongoose 5: Improved Post Hooks</a></h2><div class="title-byline-container"><div class="credits">January 12, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/H7gyZfP.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#500-rc0--2017-12-28">Mongoose 5.0.0-rc0</a> introduced several important changes to the way middleware works. The most pronounced difference is the ability to use <a href="http://thecodebarbarian.com/introducing-mongoose-5.html#promises-and-async-await-with-middleware">promises and async/await with mongoose middleware</a>. In addition, there are a couple more subtle changes that make the middleware API more consistent. In this article, I&#39;ll cover two changes. The first is that post hooks now always get flow control, even synchronous post hooks. The second is that query middleware is applied when the model is compiled for performance reasons.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/write-your-own-express-from-scratch">Preview: Write Your Own Express.js From Scratch</a></h2><div class="title-byline-container"><div class="credits">January 05, 2018</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/siEy12i.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This is the beginning of my first subscriber-only article on <a href="https://www.patreon.com/codebarbarian">The Code Barbarian&#39;s Patreon</a>. The article goes into much more depth than normal tech articles and has enough content to fill an ebook, so the whole article is only available to Patreon subscribers. If you like this article, please consider <a href="https://www.patreon.com/codebarbarian">subscribing on Patreon</a> to support future in-depth guides. The next article, &quot;Building Distributed Locking with Node.js and MongoDB&quot;, ships on January 15, 2018!</em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/introducing-mongoose-5">Introducing Mongoose 5.0.0-rc0</a></h2><div class="title-byline-container"><div class="credits">December 29, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="/images/mongoose5.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#500-rc0--2017-12-28">Mongoose 5.0.0-rc0 was released yesterday</a>. This is the first backwards-breaking release for mongoose since <a href="https://github.com/Automattic/mongoose/blob/master/History.md#400--2015-03-25">4.0.0 was released</a> in March 2015. The major forcing functions for this release were that MongoDB 3.6 removed <a href="https://github.com/mongodb/node-mongodb-native/blob/3.0.0/CHANGES_3.0.0.md#api-changes">support for the way mongoose did authentication</a> (which is why mongoose needed the <a href="http://thecodebarbarian.com/mongoose-4.11-use-mongo-client.html"><code>useMongoClient</code> option</a>) and the <a href="https://github.com/mongodb/node-mongodb-native/blob/3.0.0/HISTORY.md#300-2017-12-24">3.0.0 release of the official MongoDB Node.js driver</a>. Another major priority for Mongoose 5 was dropping support for <a href="https://github.com/nodejs/Release">Node.js &lt; 4</a> and <a href="https://www.mongodb.com/support-policy">MongoDB &lt; 3.0.0</a>. Both Node.js 0.12 and MongoDB 2.6 are about a year past their official end-of-life, and removing support for them has enabled us to make our code base much leaner.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/wrangling-geojson-with-turf">Wrangling GeoJSON with Turf.js</a></h2><div class="title-byline-container"><div class="credits">December 01, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/6kP4Bcm.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://turfjs.org/">Turf.js</a> has become an indispensible part of my Node.js</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/managing-embedded-documents-with-monogram">Managing Embedded Documents with Monogram</a></h2><div class="title-byline-container"><div class="credits">November 24, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/sC2ozYo.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://thecodebarbarian.com/introducing-monogram-the-anti-odm-for-mongodb-nodejs">Monogram</a> has a powerful middleware system that makes <a href="https://en.wikipedia.org/wiki/Cross-cutting_concern">cross-cutting concerns</a> easy. One use case is <a href="https://www.mongodb.com/blog/post/6-rules-of-thumb-for-mongodb-schema-design-part-3">denormalization</a>, the practice of storing all or part of one document in another document. Denormalization is a powerful paradigm for both performance and data integrity. When done well, denormalization means you only need one query to fetch all necessary data, rather than using joins or <code>$lookup</code> stages that may require their own indexes.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.13-aggregation-middleware">What's New In Mongoose 4.13: Aggregation Middleware</a></h2><div class="title-byline-container"><div class="credits">November 17, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/4qSvIRF.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#4130--2017-11-02">Mongoose 4.13</a> was released a couple weeks ago, with support for a powerful new feature: <a href="http://mongoosejs.com/docs/middleware.html">middleware</a> for aggregation. The primary motivation for this feature was to enable plugins like <a href="https://www.npmjs.com/package/mongoose-explain">mongoose-explain</a> to work with <code>aggregate()</code>, as well as enabling us to refactor <a href="http://mongoosejs.com/docs/discriminators.html">discriminators</a> to be a plugin. Aggregation middleware is a natural complement to query middleware, it lets you apply a lot of the use cases for hooks like <code>pre(&#39;find&#39;)</code> and <code>post(&#39;updateOne&#39;)</code> to aggregation. In this article, I&#39;ll demonstrate using aggregation middleware to enforce soft deletes, and explain how aggregation middleware works with <a href="http://mongoosejs.com/docs/api.html#aggregate_Aggregate-cursor">aggregation cursors</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.13-virtual-populate-dynamic-refs-fields">What's New In Mongoose 4.13: Dynamic Refs and Fields for Virtual Populate</a></h2><div class="title-byline-container"><div class="credits">November 09, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/CSVk0mm.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#4130--2017-11-02">Mongoose 4.13</a> was released last week. As usual, its packed with powerful new features. The most exciting new feature is the ability to set <code>localField</code>, <code>foreignField</code>, and <code>ref</code> dynamically for <a href="http://mongoosejs.com/docs/populate.html#populate-virtuals">virtual populate</a>. The syntax for virtual populate&#39;s dynamic properties is slightly different than the one for <a href="http://mongoosejs.com/docs/populate.html#dynamic-ref">conventional populate</a>, but we think this new syntax is much more powerful.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mutual-exclusion-patterns-with-node-promises">Mutual Exclusion Patterns with Node.js Promises</a></h2><div class="title-byline-container"><div class="credits">November 02, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/H9gu8x5.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>One of the most compelling reasons for <a href="http://thecodebarbarian.com/80-20-guide-to-async-await-in-node.js">async/await</a> is the fact that async functions generally feel like simplified threads, or threads with predictable interrupts. There are numerous</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.12-custom-query-function-errors">What's New in Mongoose 4.12: Errors for Custom Query Functions</a></h2><div class="title-byline-container"><div class="credits">October 25, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/5iuaDxY.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://thecodebarbarian.com/mongoose-custom-query-methods">Mongoose 4.5 introduced custom query methods</a>, which</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.12-improved-connection-events">What's New in Mongoose 4.12: Improved Connection Events</a></h2><div class="title-byline-container"><div class="credits">October 17, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/yMoUYaQ.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>I previously wrote about <a href="http://thecodebarbarian.com/managing-connections-with-the-mongodb-node-driver.html">handling the database server going down with the MongoDB Node.js driver</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.12-single-embedded-discriminators">What's New in Mongoose 4.12: Single Embedded Discriminators</a></h2><div class="title-byline-container"><div class="credits">October 12, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/1mS7e2f.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>In Mongoose 4.8 we added support for</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/casting-and-validating-geojson-with-archetype">Casting and Validating GeoJSON With Archetype</a></h2><div class="title-byline-container"><div class="credits">October 04, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/uboKEWQ.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://en.wikipedia.org/wiki/GeoJSON">GeoJSON</a> is a powerful standard for</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/managing-connections-with-the-mongodb-node-driver">Managing Connections with the MongoDB Node.js Driver</a></h2><div class="title-byline-container"><div class="credits">September 27, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="https://i.imgur.com/urAxn05.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Too often, MongoDB REST API developers don&#39;t think about handling database outages until they have an outage in production. Usually you can get away with this because version 2.x of the MongoDB Node.js driver does most of the work for you: it handles attempting to reconnect and can buffer operations for you so you don&#39;t get errors during a temporary outage. However, the MongoDB Node.js driver has a lot of tunable options and corresponding subtleties that you need to be aware of. In this article, I&#39;ll cover the basics of what happens when your backend MongoDB topology goes down for single server and replica sets, so you can configure the driver to do the right thing for your use case.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/queueing-function-calls-with-node.js-and-mongodb">Queueing Function Calls with Node.js and MongoDB</a></h2><div class="title-byline-container"><div class="credits">September 08, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/8ZVJyfD.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>You might remember <a href="https://en.wikipedia.org/wiki/Lock_%28computer_science%29">locking</a> from your undergrad systems programming class. Locks are what you use when multiple threads want to access the same chunk of memory, and you don&#39;t want one thread to clobber the other&#39;s data. You don&#39;t have threads in Node.js, but that doesn&#39;t mean you can ignore concurrency, because your <a href="http://expressjs.com/">Express server</a> might get conflicting requests at roughly the same time. In this article, I&#39;ll describe how you can leverage promises and async functions to enforce the constraint that only one instance of a given function runs at a time.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/thoughts-on-user-passwords-in-rest-apis">Thoughts on User Passwords in REST APIs</a></h2><div class="title-byline-container"><div class="credits">August 11, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/xbgdmGo.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>I often get questions about <a href="https://stackoverflow.com/questions/12096262/how-to-protect-the-password-field-in-mongoose-mongodb-so-it-wont-return-in-a-qu">how to secure user passwords in mongoose</a>. The answer is a one-liner, but I now think there&#39;s a better answer: why do you store the user&#39;s password in the user document anyway? This may seem blasphemous given that MongoDB&#39;s <a href="https://www.mongodb.com/presentations/mongodb-single-customer-view">&quot;single view of the customer&quot;</a> use case and that denormalization is one of MongoDB&#39;s killer features. However, I&#39;ve used this paradigm successfully for several projects. In this article, I&#39;ll make the case that a separate <code>AuthenticationMethod</code> collection is the way to go for storing password hashes in your database.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/80-20-guide-to-express-error-handling">The 80/20 Guide to Express Error Handling</a></h2><div class="title-byline-container"><div class="credits">August 04, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/xmiL2zE.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://expressjs.com/en/guide/error-handling.html">Express&#39; error handling middleware</a> is a powerful tool for consolidating your HTTP error response logic. Odds are, if you&#39;ve written Express code you&#39;ve written code that looks like what you see below.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/importance-of-apis-in-a-full-stack-world">The Importance of APIs in a Full Stack World</a></h2><div class="title-byline-container"><div class="credits">July 28, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/y6qzPpc.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This article originally appeared on <a href="https://www.lunchbadger.com/go-full-stack-with-express-and-apis/">LunchBadger</a>. LunchBadger <a href="https://www.lunchbadger.com/development/">helps you build APIs in a continuous lifecycle using serverless open source</a>.</em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/introducing-monogram-the-anti-odm-for-mongodb-nodejs">Introducing Monogram, the Anti-ODM for Node.js and MongoDB</a></h2><div class="title-byline-container"><div class="credits">July 21, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/DrY1SiZ.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>In 2015, I <a href="https://github.com/vkarpov15/monogram-old/graphs/contributors">started working on a new ODM</a> for MongoDB and Node.js. It was based on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/observe">the now-obsolete <code>Object.observe()</code> function</a>, and I unfortunately had to scrap the whole project when the <code>Object.observe()</code> proposal was unexpectedly withdrawn. A lot of the core logic from the original ODM lives on in <a href="https://www.npmjs.com/package/archetype-js">Archetype</a>. But my brief time in <a href="https://thinkster.io/tutorials/build-a-real-world-react-redux-application">Redux land</a> and studying <a href="https://www.npmjs.com/package/falcor">falcor</a> taught me a crucial lesson: the Model-View-Controller paradigm is not the only way to do things. MVC and ODMs still make sense, but we can build a stronger, more functional abstraction as the basis for a more concise architecture. The <a href="https://www.npmjs.com/package/monogram">new monogram</a> has now been powering 100% of <a href="https://www.trybooster.com/careers">Booster&#39;s</a> API queries for weeks and it&#39;s officially production ready. Here&#39;s what monogram is all about.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.11-use-mongo-client">What's New in Mongoose 4.11: useMongoClient</a></h2><div class="title-byline-container"><div class="credits">July 14, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/3Ojk94g.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#4110--2017-06-25">Mongoose 4.11</a> introduced an important new option to work around a major deprecation. The <a href="http://mongoosejs.com/docs/connections.html#use-mongo-client"><code>useMongoClient</code> option</a> is the source of the <a href="https://github.com/Automattic/mongoose/issues/5399">&#39;<code>open()</code> is deprecated in mongoose&#39; deprecation warning that has caused so much discussion</a>. This option opts you in to using Mongoose 4.11&#39;s simplified initial connection logic and allows you to avoid getting a <a href="https://github.com/Automattic/mongoose/issues/5304">deprecation warning from the underyling MongoDB driver</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.11-lean-virtuals">What's New in Mongoose 4.11: Virtuals with Lean Queries</a></h2><div class="title-byline-container"><div class="credits">July 07, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/SxVLe41g.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#4110--2017-06-25">Mongoose 4.11</a> was released last week and includes several neat new features. It also has one very important deprecation, so before you upgrade please read about <a href="http://mongoosejs.com/docs/connections.html#use-mongo-client">the <code>useMongoClient</code> option in the docs</a>. I&#39;ll write more about <code>useMongoClient</code> and <a href="https://github.com/Automattic/mongoose/issues/5399#issuecomment-312523545">why it is necessary</a> another time. But first, mongoose 4.11 enables a new plugin, <a href="https://www.npmjs.com/package/mongoose-lean-virtuals">mongoose-lean-virtuals</a>, which lets you apply virtuals to query results even if you use <a href="http://mongoosejs.com/docs/api.html#query_Query-lean">the <code>lean()</code> function</a>. This plugin is a more general version of <a href="https://www.npmjs.com/package/mongoose-lean-id">mongoose-lean-id</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/enforcing-uniqueness-with-mongodb-partial-unique-indexes">Enforcing Uniqueness With MongoDB Partial Indexes in Node.js</a></h2><div class="title-byline-container"><div class="credits">June 15, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/PC51A3B.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>You might remember <a href="https://en.wikipedia.org/wiki/Lock_%28computer_science%29">locking</a> from your undergrad systems programming class. Locks help when multiple threads that can be interrupted at any time access a shared resource. In distributed programming (like building a Node.js server that talks to a database) you have a similar problem: parallel operations can mutate documents in the database in conflicting ways. In particular, enforcing uniqueness, such as making sure only one user has a given email, is tricky.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.10-runSettersOnQuery-option">What's New in Mongoose 4.10: The runSettersOnQuery Option</a></h2><div class="title-byline-container"><div class="credits">June 08, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/hnOe2XB.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://mongoosejs.com/docs/schematypes.html">Mongoose setters</a> have always had the limitation that they only work for <code>save()</code>, <em>not</em> for queries. For example, let&#39;s say you have a schema that enforces your emails are always lowercase:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/building-your-own-load-balancer-with-express-js">Building Your Own Load Balancer with ExpressJS</a></h2><div class="title-byline-container"><div class="credits">June 02, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/jxJ08U2.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This article originally appeared on <a href="https://www.lunchbadger.com/build-load-balancer-express/">LunchBadger</a>. LunchBadger <a href="https://www.lunchbadger.com/development/">helps you build APIs in a continuous lifecycle using serverless open source</a>.</em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/using-async-await-with-mocha-express-and-mongoose">Using Async/Await with Mocha, Express, and Mongoose</a></h2><div class="title-byline-container"><div class="credits">May 26, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/WhnVOcp.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>One great perk of <a href="http://thecodebarbarian.com/80-20-guide-to-async-await-in-node.js">async/await in Node.js</a> is how well it integrates with existing libraries. By now, most popular Node.js libraries support some sort of promise-based API, so they integrate nicely with async/await. You might even have the pleasure of removing a few dependencies from your <code>package.json</code> if you start using async/await instead of <a href="http://npmjs.org/package/co">co</a>. In this article, I&#39;ll show you how async/await works with <a href="https://www.npmjs.com/package/mocha">mocha</a> tests, <a href="http://npmjs.org/package/express">express</a> routes and middleware, and <a href="https://www.npmjs.com/package/mongoose">mongoose</a> queries and cursors.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/whats-new-in-mongoose-4.10-unique-in-arrays">What's New in Mongoose 4.10: Unique in Arrays</a></h2><div class="title-byline-container"><div class="credits">May 16, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/2Lb4p37.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/Automattic/mongoose/blob/master/History.md#4100--2017-05-18">Mongoose 4.10.0 just landed</a> and brings with it several powerful features and bug fixes. The most +1-ed feature in this <a href="https://github.com/Automattic/mongoose/issues/3347">supporting <code>unique</code> in array definitions</a> via the <a href="https://www.npmjs.com/package/mongoose-unique-array">mongoose-unique-array plugin</a>. This feature is implemented as a separate plugin because <code>mongoose-unique-array</code> does much more than <a href="http://mongoosejs.com/docs/validation.html#the-unique-option-is-not-a-validator">simply create a unique index</a>, it also ties in to validators and versioning. In this article, I&#39;ll explain how to use <code>mongoose-unique-array</code> and the caveats you need to be aware of when using it.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/realtime-chat-with-next-js-and-pubnub">Building a Realtime Chat With Next.js and PubNub</a></h2><div class="title-byline-container"><div class="credits">May 09, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/VUu1pGn.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>I&#39;ve been looking at <a href="https://www.pubnub.com/docs/web-javascript/pubnub-javascript-sdk">PubNub</a> as a potential alternative to <a href="https://github.com/firebase/quickstart-nodejs">Firebase</a> for push notifications. At a high level, PubNub is pubsub-as-a-service: once you plug in PubNub&#39;s JavaScript library, you can start publishing messages and subscribing to channels without having to deploy <a href="https://kafka.apache.org/">Kafka</a>, <a href="http://zeromq.org/">ZeroMQ</a>, etc.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/standalone-express-apis-binaries-with-pkg">Standalone Express API Binaries with pkg</a></h2><div class="title-byline-container"><div class="credits">May 03, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/oW5ZLCn.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://www.npmjs.com/package/pkg">pkg</a> is <a href="http://thecodebarbarian.com/building-a-nextjs-app-with-mongodb.html">Zeit</a>&#39;s (the company behind <a href="http://thecodebarbarian.com/building-a-nextjs-app-with-mongodb.html">Next.js</a>) new tool for bundling Node.js projects into standalone binary executables. A standalone executable has numerous advantages: as long as you&#39;re on a compatible OS, you can run the executable without installing Node.js, docker, or any other runtime. You can ship your executable to a vanilla EC2 instance and run it without any extra setup, no need to maintain <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AMIs.html">AMIs</a> or use <a href="https://www.packer.io/intro/">Packer</a>. You can also <a href="https://www.npmjs.com/package/pkg#targets">cross-compile</a> with pkg, so you can build an OSX-compatible executable on your Linux box and vice-versa. In other words, pkg gives you the best parts of <a href="https://dave.cheney.net/2015/08/22/cross-compilation-with-go-1-5">Golang</a> in Node.js.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/building-a-nextjs-app-with-mongodb">Building a Next.js App With MongoDB</a></h2><div class="title-byline-container"><div class="credits">April 26, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/nwQdiR8.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://github.com/zeit/next.js/">Next.js</a> is a powerful framework for building server-side rendered applications. Next.js is just a wrapper around <a href="http://npmjs.org/package/react">React</a>, but it abstracts away all the ugly bits of React: build systems, transpilation, routing, CSS, etc. Most importantly, it makes server-side rendering with React dead simple, no need to carefully structure your code for use with <a href="https://www.npmjs.com/package/preact-render-to-string">preact-render-to-string</a> or figure out the <a href="http://thecodebarbarian.com/server-side-rendering-with-preact-and-firebase.html"><code>lastChild</code> pattern for replacing the server-side rendered component with the client-side rendered component</a>. In this article, I&#39;ll show you how to build a basic Next.js app with server-side rendering on top of an Express and MongoDB API.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/basic-functional-programming-with-async-await">Basic Functional Programming With Async/Await</a></h2><div class="title-byline-container"><div class="credits">April 20, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/pNQZG9E.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function">Async/await</a> makes it easy to <a href="http://thecodebarbarian.com/common-async-await-design-patterns-in-node.js.html">integrate asynchronous behavior with imperative constructs like for loops, if statements, and try/catch blocks</a>. Unfortunately, it doesn&#39;t do the same for functional constructs like <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach"><code>forEach</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map"><code>map</code></a>, <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce"><code>reduce</code></a>, and <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/filter"><code>filter</code></a>. Using these constructs with async functions leads to behavior that can seem downright baffling. In this article, I&#39;ll show you some common gotchas for async functions with JavaScript&#39;s built-in functional array methods and how to work around them.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/server-side-rendering-with-preact-and-firebase">Server-side Rendering With Preact and Firebase</a></h2><div class="title-byline-container"><div class="credits">April 12, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/AdK7X61.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://firebase.google.com/">Firebase</a> is a great tool for getting data from a server to a client. Firebase handles caching, retries, socket management, and all the other unpleasant details of getting data to a client with spotty internet connection. In particular, Firebase is excellent for mobile web and mobile apps. In this article, I&#39;ll walk you through using Firebase with <a href="http://npmjs.org/package/preact">Preact</a>, a lightweight React alternative, to build a <a href="https://github.com/vkarpov15/pushups">simple app with server-side rendering</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/unhandled-promise-rejections-in-node.js">Unhandled Promise Rejections in Node.js</a></h2><div class="title-byline-container"><div class="credits">April 04, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/AefJJ21.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Node.js 6.6.0 added a sporadically useful bug/feature: <a href="https://nodejs.org/api/process.html#process_event_rejectionhandled">logging unhandled promise rejections to the console by default</a>. In other words, the below script will print an error to the console:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/node.js-task-scheduling-with-agenda-and-mongodb">Node.js Task Scheduling With Agenda and MongoDB</a></h2><div class="title-byline-container"><div class="credits">March 30, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/ZyuD8do.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>By virtue of the event loop, <a href="http://thecodebarbarian.com/2013/12/02/price-internationalization-with-the-mean-stack">scheduling tasks in Node.js</a> is relatively straightforward. Plain old <code>setTimeout()</code> and <code>setInterval()</code> are sufficient for many basic use cases where you would normally use cron. However, things get more interesting when you need durable transactional scheduling, for use cases like:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/managing-node.js-versions-without-external-tools">Managing Node.js Versions Without External Tools</a></h2><div class="title-byline-container"><div class="credits">March 24, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/gGKNuu9.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>I find the existence of tools like <a href="https://github.com/creationix/nvm/blob/master/README.markdown">nvm</a> baffling. I could understand if setting up Node.js required an actual installer or compiler or python, but <a href="http://nodejs.org/download">node has pre-built binaries for most operating systems</a>. Node and npm are both portable standalone executables, so all you need is the right binary for your OS in the right place on your file system. Especially if you&#39;re switching back and forth between Node 6.x and 7.6.0 for <a href="http://thecodebarbarian.com/80-20-guide-to-async-await-in-node.js.html">async/await</a>, you should simplify your node version management workflow rather than using yet another bloated tool.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/common-async-await-design-patterns-in-node.js">Common Async/Await Design Patterns in Node.js</a></h2><div class="title-byline-container"><div class="credits">March 15, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/plEwB6L.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://thecodebarbarian.com/80-20-guide-to-async-await-in-node.js.html">Async/await in Node.js</a> opens up a host of powerful design patterns. Tasks that used to take <a href="https://www.npmjs.com/package/async">complex libraries</a> or intricate promise chaining can now be done with rudimentary <code>if</code> statements and <code>for</code> loops. <a href="http://thecodebarbarian.com/3-common-co-design-patterns">I already wrote about these kind of design patterns with co</a>, but async/await makes these patterns accessible in vanilla Node.js, no outside libraries required.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/80-20-guide-to-async-await-in-node.js">The 80/20 Guide to Async/Await in Node.js</a></h2><div class="title-byline-container"><div class="credits">March 08, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/9D2tvfU.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Arguably the biggest new feature in <a href="https://github.com/nodejs/node/blob/master/doc/changelogs/CHANGELOG_V7.md#7.6.0">Node.js 7.6.0</a> is that the <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Statements/async_function">much awaited async function keyword is now available without a flag</a>. <a href="http://thecodebarbarian.com/2015/03/20/callback-hell-is-a-myth">Callback hell</a> and promise hell are now in the past. But, like <a href="https://en.wikipedia.org/wiki/Uncle_Ben#.22With_great_power_comes_great_responsibility.22">Uncle Ben always reminded us</a>, with great power comes great responsibility, and async/await gives you a lot of new and exciting ways to shoot yourself in the foot. You still need to handle errors and be aware of the async nature of your code, otherwise you&#39;ll inevitably be complaining about &quot;async/await hell&quot; in 6 months.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/getting-started-with-webassembly-in-node.js">Getting Started With WebAssembly in Node.js</a></h2><div class="title-byline-container"><div class="credits">February 28, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://thecodebarbarian.com/images/gear.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://webassembly.org/">WebAssembly</a> is an exciting new language that many JavaScript engines have added support for. WebAssembly promises to make it much easier to compile languages like C and C++ to something that runs in the browser. However, I&#39;m most excited about the ability to write optimized custom arithmetic and buffer manipulations, like, say, <a href="http://thecodebarbarian.com/a-nodejs-perspective-on-mongodb-34-decimal.html">fast decimal floating point arithmetic in JavaScript</a> without having to <a href="https://mail.mozilla.org/pipermail/es-discuss/2008-February/005446.html">wait for TC39 to get around to it</a>. In this article, I&#39;ll show you how to get a couple rudimentary WebAssembly examples running in Node.js, and run a couple trivial benchmarks to show the performance impact.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/a-nodejs-perspective-on-mongodb-34-collations">A Node.js Perspective on MongoDB 3.4: Collations</a></h2><div class="title-byline-container"><div class="credits">February 23, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/0psdXaz.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://docs.mongodb.com/manual/reference/collation/">Collations</a> are another great new feature in <a href="https://docs.mongodb.com/manual/reference/collation/">MongoDB 3.4</a>. You can think of collations as a way to configure how MongoDB orders and compares strings. In this article, I&#39;ll demonstrate some basic uses of collations and show how to use them in Node.js with <a href="https://www.npmjs.com/package/mongodb">the MongoDB driver</a> and <a href="https://www.npmjs.com/package/mongoose">mongoose</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/rest-apis-with-observables">Building REST APIs with Observables</a></h2><div class="title-byline-container"><div class="credits">February 16, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/AEDwARd.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>The most important feature of most server-side frameworks is middleware: the ability to hook your own logic into the framework&#39;s logic, like <a href="https://en.wikipedia.org/wiki/IFTTT">IFTTT</a> for your code. <a href="http://expressjs.com/en/guide/writing-middleware.html">Express</a>, <a href="http://mongoosejs.com/docs/middleware.html">Mongoose</a>, <a href="http://guides.rubyonrails.org/rails_on_rack.html#configuring-middleware-stack">Rails</a>, and <a href="https://docs.djangoproject.com/en/1.10/topics/http/middleware/">Django</a> all rely heavily on middleware. <a href="https://loopback.io/doc/en/lb3/Operation-hooks.html">LoopBack</a> and <a href="http://docs.sequelizejs.com/en/latest/docs/hooks/">Sequelize</a> have hooks, AngularJS has <a href="https://docs.angularjs.org/api/ng/type/ngModel.NgModelController">parsers</a> and <a href="http://thecodebarbarian.com/2015/01/24/angularjs-interceptors">interceptors</a>, <a href="https://hapijs.com/api#request-lifecycle">Hapi</a> has extensions, but these are all just <a href="https://en.wikipedia.org/wiki/A_rose_by_any_other_name_would_smell_as_sweet">roses by another name</a>. Except Hapi, Hapi by any other name would still have a foul code stench.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.8-save-errors">The saveErrorIfNotFound Option in Mongoose 4.8</a></h2><div class="title-byline-container"><div class="credits">February 09, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/fFnUqLo.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>The <code>saveErrorIfNotFound</code> option and <code>$where</code> property in <a href="https://github.com/Automattic/mongoose/blob/master/History.md#480--2017-01-28">mongoose 4.8</a> gives <a href="http://thecodebarbarian.com/2015/03/06/guide-to-mongoose-plugins">plugins</a> a powerful new way to modify the behavior of <code>save()</code>. This feature may not seem as exciting as <code>eachAsync()</code> or the major perf improvements in 4.8, but I think it will help the community develop some handy abstractions on top of <code>save()</code>. How do these</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-4.8-embedded-discriminators">Embedded Discriminators in Mongoose 4.8</a></h2><div class="title-byline-container"><div class="credits">February 02, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/bBY1Y8M.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>The most +1&#39;ed <a href="https://github.com/Automattic/mongoose/issues/1856">feature</a> <a href="https://github.com/Automattic/mongoose/issues/2723">request</a> for mongoose in 2016 was extending <a href="http://mongoosejs.com/docs/discriminators.html">discriminators</a> to work with embedded documents. Discriminators are mongoose&#39;s built-in schema inheritance mechanism. For example, suppose you have a schema defining events:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/a-nodejs-perspective-on-mongodb-34-decimal">A Node.js Perspective on MongoDB 3.4: Decimal Type</a></h2><div class="title-byline-container"><div class="credits">January 26, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/fypknCl.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>MongoDB 3.2 supports 3 numeric types: <a href="http://bsonspec.org/spec.html">32 bit integers, 64 bit integers, and 64 bit binary floating points</a>. MongoDB 3.4 introduces a</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/a-nodejs-perspective-on-mongodb-34-facet">A Node.js Perspective on MongoDB 3.4: $facet</a></h2><div class="title-byline-container"><div class="credits">January 19, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/U4G4pxc.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://docs.mongodb.com/manual/release-notes/3.4/">MongoDB 3.4</a></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/a-nodejs-perspective-on-mongodb-34-graphlookup">A Node.js Perspective on MongoDB 3.4: $graphLookup</a></h2><div class="title-byline-container"><div class="credits">January 12, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/3blGuMX.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://docs.mongodb.com/manual/release-notes/3.4/">The newly released MongoDB 3.4</a></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/casting-mongodb-queries-with-archetype">Casting MongoDB Queries with Archetype</a></h2><div class="title-byline-container"><div class="credits">January 04, 2017</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/g4xbjym.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>One of <a href="https://www.npmjs.com/package/archetype-js">Archetype&#39;s</a> core design goals</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/static-typing-is-dead-runtime-type-casting-archetype">Static Typing is Dead: Runtime Type Casting with Archetype</a></h2><div class="title-byline-container"><div class="credits">December 14, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/o5E9kir.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Static typing is becoming very popular in the JavaScript community. While I&#39;m</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/this-thanksgiving-im-thankful-for-observables">This Thanksgiving I'm Thankful for Observables</a></h2><div class="title-byline-container"><div class="credits">November 24, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/KzfxcFV.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Observables have really changed the way I think about JavaScript over</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/10-lessons-from-10-years-as-a-software-engineer">10 Lessons from 10 Years as a Software Engineer</a></h2><div class="title-byline-container"><div class="credits">November 18, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/jsBO7wD.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>On a sunny Wednesday in September 2006, I showed up for my first day of an</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/thoughts-on-es6-proxies-performance">Thoughts on ES6 Proxies Performance</a></h2><div class="title-byline-container"><div class="credits">October 28, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/Jn1jazf.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://thecodebarbarian.com/2015/04/24/80-20-guide-to-ecmascript-6-proxies">Proxies</a> are a powerful ES2015 feature that let you intercept operations on object properties by defining &quot;traps&quot; (function handlers) for getting/setting a property. For example:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/using-ramda-as-a-dependency-injector">Using Ramda as a Dependency Injector</a></h2><div class="title-byline-container"><div class="credits">September 23, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/MttUY1D.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://www.npmjs.com/package/ramda">Ramda</a> is quickly becoming an indispensible part of my node projects. Lodash is more accessible and beginner-friendly, but ramda is far more powerful and expressive once you wrap your mind around it. In this article, I&#39;ll take a look at the <a href="http://ramdajs.com/docs/#applySpec"><code>applySpec()</code> function</a> and how it can replace dependency injectors like <a href="http://npmjs.org/package/wagner-core">wagner</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-custom-query-methods">Mongoose 4.5 Custom Query Methods</a></h2><div class="title-byline-container"><div class="credits">August 04, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/lwWYU5Q.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>One particularly neat feature of mongoose is the <a href="http://mongoosejs.com/docs/queries.html">chainable query builder API</a>. This API provides the ability to build up MongoDB queries with helper methods, rather than via a JSON object.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-virtual-populate">Mongoose 4.5 Virtual Populate</a></h2><div class="title-byline-container"><div class="credits">July 18, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/OBMNAFj.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Mongoose 4.5 introduces a new API for <a href="http://mongoosejs.com/docs/populate.html">populating</a> documents. The new</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-error-handling">Mongoose 4.5 Error Handling</a></h2><div class="title-byline-container"><div class="credits">July 01, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/TNkBPsR.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Mongoose 4.5.0 introduces the ability to handle errors in middleware. This lets</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/react-native-the-bad-parts">React Native: The Bad Parts</a></h2><div class="title-byline-container"><div class="credits">June 10, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/XLrTvxx.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>If you haven&#39;t heard the React Native hype train yet, you will: it&#39;s probably</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/cursors-in-mongoose-45">Cursors in Mongoose 4.5</a></h2><div class="title-byline-container"><div class="credits">May 23, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/RB1CHhD.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Mongoose 4.5.0 is just around the corner (current ETA is <a href="https://github.com/Automattic/mongoose/milestones">June 3</a>),</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/3-common-co-design-patterns">3 Common Co Design Patterns</a></h2><div class="title-byline-container"><div class="credits">May 06, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/mtG2ry9.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://www.npmjs.com/package/co">Co</a> is a powerful tool for writing callback-free async code using vanilla ES2015. However, the sheer extent</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/i-dont-want-to-hire-you-if-you-cant-reverse-a-binary-tree">I Don't Want To Hire You If You Can't Reverse a Binary Tree</a></h2><div class="title-byline-container"><div class="credits">April 22, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/xK5Inwu.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>The practice of asking brainteasers in interviews is a common punching bag</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/github-is-my-favorite-private-npm-registry">GitHub is My Favorite Private npm Registry</a></h2><div class="title-byline-container"><div class="credits">March 18, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/6zW9cKn.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>There&#39;s a lot of solutions out there for putting private projects in your</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/replacing-angular-js-$http-backend-with-superagent">Replacing AngularJS' $httpBackend With Superagent</a></h2><div class="title-byline-container"><div class="credits">March 11, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://f.cl.ly/items/3d282n3A0h0Z0K2w0q2a/Screenshot.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>The <a href="https://docs.angularjs.org/api/ngMock/service/$httpBackend"><code>$httpBackend</code> service</a> is definitely one of my top 10 AngularJS features. It makes TDD incredibly easy, <a href="http://thecodebarbarian.com/2015/06/12/testing-angularjs-directives">especially if you&#39;re testing directives as a whole</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/setting-up-circle-ci-with-node-js">Setting Up Circle CI With Node.js</a></h2><div class="title-byline-container"><div class="credits">March 04, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/3HiTMYc.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://circleci.com/">Circle CI</a> is quickly becoming my favorite CI tool.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/react-native-keep-awake-android-java">Diving Into React Native Java to Keep the Android Screen On</a></h2><div class="title-byline-container"><div class="credits">February 26, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/noFg1sU.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="https://www.npmjs.com/package/react-native">React Native</a> is hot right now,</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/write-your-own-co-using-es2015-generators">Write Your Own Co Using ES2015 Generators</a></h2><div class="title-byline-container"><div class="credits">February 19, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/gTrI7tf.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This post originally appeared on <a href="https://strongloop.com/strongblog/write-your-own-co-using-es2015-generators/">strongloop.com</a>. StrongLoop provides tools and services for companies developing APIs in Node. <a href="http://www.strongloop.com">Learn more...</a></em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/dookie-import-export-mongodb">Introducing Dookie, A Better Way To Import/Export MongoDB Data</a></h2><div class="title-byline-container"><div class="credits">February 12, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/DL9R14Y.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Getting data into and out of MongoDB is a pain. Although MongoDB 3.0 and 3.2</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/3-neat-tricks-with-npm-run">3 Neat Tricks With npm run</a></h2><div class="title-byline-container"><div class="credits">February 05, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/eTsJfMF.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This post originally appeared on <a href="https://strongloop.com/strongblog/3-neat-tricks-with-npm-run/">strongloop.com</a>. StrongLoop provides tools and services for companies developing APIs in Node. <a href="http://www.strongloop.com">Learn more...</a></em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/introducing-80-20-guide-to-es2015-generators">Introducing The 80/20 Guide to ES2015 Generators</a></h2><div class="title-byline-container"><div class="credits">January 29, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/UC5trHd.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>I must confess, I really don&#39;t like most tech books. Except for</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongoose-2015-year-in-review">Mongoose 2015 Year in Review</a></h2><div class="title-byline-container"><div class="credits">January 07, 2016</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/pR8tHKE.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>2015 was a big year for mongoose. Mongoose 4.0 was released, the first major</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/node-perspective-on-mongodb-3.2-$lookup-$sample">A Node.js Perspective on MongoDB 3.2, Part 2: $lookup and $sample</a></h2><div class="title-byline-container"><div class="credits">December 18, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/Dv4ltMX.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>In last week&#39;s article, you</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/node-perspective-on-mongodb-3.2-bitwise-query-operators">A Node.js Perspective on MongoDB 3.2: Bitwise Query Operators</a></h2><div class="title-byline-container"><div class="credits">December 10, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/rEq04f1.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>MongoDB 3.2.0 was released earlier this week. It includes some exciting</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/ionic-loopback-testing">Ionic Framework and LoopBack, Part IV: Testing with Travis</a></h2><div class="title-byline-container"><div class="credits">November 13, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/gh86st3.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This post originally appeared on <a href="https://strongloop.com/strongblog/part-4-ionic-loopback-frameworks-testing-with-travis/">strongloop.com</a>. StrongLoop provides tools and services for companies developing APIs in Node. <a href="http://www.strongloop.com">Learn more...</a></em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/mongodb-gridfs-stream">The MongoDB Node.js Driver's New Streaming GridFS API</a></h2><div class="title-byline-container"><div class="credits">October 23, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/VMIyLa5.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><a href="http://docs.mongodb.org/manual/core/gridfs/">GridFS</a> is a mechanism for</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/10/09/ionic-loopback-mobile-app">Ionic Framework and LoopBack, Part III: Building an Ionic App</a></h2><div class="title-byline-container"><div class="credits">October 09, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/gh86st3.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>In the first two articles in this series, you built a</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/09/04/ionic-loopback-directives">Ionic Framework and LoopBack, Part II: Directives with the AngularJS LoopBack SDK</a></h2><div class="title-byline-container"><div class="credits">September 04, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/gh86st3.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This post originally appeared on <a href="https://strongloop.com/strongblog/karma-test-client-side-javascript/">strongloop.com</a>. StrongLoop provides tools and services for companies developing APIs in Node. <a href="http://www.strongloop.com">Learn more...</a></em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/08/07/ionic-loopback-rest-api">Ionic Framework and LoopBack, Part I: Building a LoopBack REST API</a></h2><div class="title-byline-container"><div class="credits">August 07, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/gh86st3.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This post originally appeared on <a href="https://strongloop.com/strongblog/karma-test-client-side-javascript/">strongloop.com</a>. StrongLoop provides tools and services for companies developing APIs in Node. <a href="http://www.strongloop.com">Learn more...</a></em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/06/12/testing-angularjs-directives">Testing AngularJS Directives</a></h2><div class="title-byline-container"><div class="credits">June 12, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/beDSHUq.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Strict unit tests are an interesting subject. They&#39;re simple, elegant, and do</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/05/08/testing-client-side-javascript-with-karma">Testing Client-side JavaScript with Karma</a></h2><div class="title-byline-container"><div class="credits">May 08, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="http://i.imgur.com/NDZxX2t.png" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This post originally appeared on <a href="https://strongloop.com/strongblog/karma-test-client-side-javascript/">strongloop.com</a>. StrongLoop provides tools and services for companies developing APIs in Node. <a href="http://www.strongloop.com">Learn more...</a></em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/04/24/80-20-guide-to-ecmascript-6-proxies">An 80/20 Guide to ECMAScript 6 Proxies</a></h2><div class="title-byline-container"><div class="credits">April 24, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="http://www.anotherthink.com/wp-content/uploads/2013/08/superman.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>One feature of the current JavaScript language standard, ECMAScript 5,</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/04/10/shippable-an-alternative-take-on-travis">Shippable: An Alternative Take on Travis</a></h2><div class="title-byline-container"><div class="credits">April 10, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="//i.imgur.com/sotdDGi.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>I&#39;ve <a href="/2015/02/13/travis_coveralls">spent a fair amount of time lauding Travis</a> as an excellent go-to CI tool. But, when I wanted to use Travis</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/03/20/callback-hell-is-a-myth">Callback Hell is a Myth</a></h2><div class="title-byline-container"><div class="credits">March 20, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="//i.imgur.com/nGgScTr.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Hating &quot;callback hell&quot; is a favorite pastime for many JavaScript bloggers and open source devs.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/03/13/testing-rest-apis-with-acquit">Testing and Documenting Node.js APIs with Mocha and Acquit</a></h2><div class="title-byline-container"><div class="credits">March 13, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="//i.imgur.com/8pNmul8.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This blog originally appeared on <a href="https://strongloop.com/strongblog/nodejs-testing-documenting-apis-mocha-acquit/">strongloop.com</a>. StrongLoop provides tools and services for companies developing APIs in Node. <a href="http://www.strongloop.com">Learn more...</a></em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/03/06/guide-to-mongoose-plugins">An 80/20 Guide to Mongoose Plugins</a></h2><div class="title-byline-container"><div class="credits">March 06, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="//i.imgur.com/HQMSGsl.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>One of my favorite underused mongoose features is</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/02/27/npm-install--g">Why I (Almost) Never Use npm's -g Flag</a></h2><div class="title-byline-container"><div class="credits">February 27, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="//i.imgur.com/Qi3TwnH.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Every so often I run into an <a href="https://www.npmjs.com/package/marked">npm module that uses <code>preferGlobal: true</code></a></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/02/20/better-angularjs-form-validation-with-mongoose">Better AngularJS Form Validation with Mongoose</a></h2><div class="title-byline-container"><div class="credits">February 20, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="//i.imgur.com/gZwWByl.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>People have often asked me about my biggest pain points with AngularJS.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/02/13/travis_coveralls">Building Better npm Modules with Travis and Coveralls</a></h2><div class="title-byline-container"><div class="credits">February 13, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="//www.progearphil.com/-/products/b-coverall-01.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This blog originally appeared on <a href="http://strongloop.com/strongblog/npm-modules-travis-coveralls/">strongloop.com</a>. StrongLoop provides tools and services for companies developing APIs in Node. <a href="http://www.strongloop.com">Learn more...</a></em></p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/02/06/static_site_generators">Static Site Generators are Overkill</a></h2><div class="title-byline-container"><div class="credits">February 06, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="//i.imgur.com/qGhic5f.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Last December, I switched my blog over to a static page generated by a vanilla NodeJS script. So far, its been a dream come true. Thanks to <a href="https://github.com/deverseli800">Cesar Devers&#39;</a> design skills, the blog is far more readable than the old standard WordPress template. Also, I can write my posts in Markdown, which has done wonders for my workflow. I also have more direct control over my layout and analytics, so I can use <a href="https://keen.io/">KeenIO</a> to track some basic metrics. Getting to this new blog infrastructure was an adventure. I had brief flings with many static site generators before settling on my current setup. In this article, I&#39;ll explain why I decided to skip out on all the established tools and just write my own solution.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2015/01/17/angularjs-loopback">Creating REST APIs and Clients with LoopBack and AngularJS</a></h2><div class="title-byline-container"><div class="credits">January 17, 2015</div></div></div><div class="row"><div class="col-lg-3"><img src="//i.imgur.com/PULVzVs.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Recently, I&#39;ve been looking into <a href="http://strongloop.com/node-js/loopback-framework/">StrongLoop&#39;s LoopBack framework</a>. LoopBack generates Express REST APIs by asking you a few simple questions at the command line. LoopBack lets you swap out different storage layers. For each model you define, you can choose to store it in MongoDB, Oracle, MySQL, or Microsoft SQL Server (or even in memory). Say you decide to store your users in MongoDB but your user&#39;s gift cards in MySQL (for transactions). Even if you started writing your code with gift cards stored in MongoDB, LoopBack&#39;s database abstraction layer makes switching a one-liner. Furthermore, LoopBack has SDKs for generating REST API clients in AngularJS, Android, and iOS. In short, LoopBack is a powerful tool for generating REST APIs that you can extend to scaffold client-side code.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2014/12/19/mongoose-397">What's new in Mongoose 3.9.7</a></h2><div class="title-byline-container"><div class="credits">December 19, 2014</div></div></div><div class="row"><div class="col-lg-3"><img src="//upload.wikimedia.org/wikipedia/commons/d/d9/Vosmangoesten_zoo_Lille.JPG" style="width: 100%"/></div><div class="col-lg-9"><em><p>Mongoose 3.9.7 has just been released. While I did say that 3.9.6 would be the</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2014/09/04/defending-against-query-selector-injection-attacks">Defending Against Query Selector Injection Attacks</a></h2><div class="title-byline-container"><div class="credits">September 04, 2014</div></div></div><div class="row"><div class="col-lg-3"><img src="//farm3.static.flickr.com/2457/3826282995_3e69f496b4_m.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>In case you haven&#39;t come across Petko Petkov&#39;s post on injection attacks against MongoDB and NodeJS yet, <a href="http://blog.websecurify.com/2014/08/hacking-nodejs-and-mongodb.html">its definitely worth a careful read</a>. In this article, he explains a pretty simple exploit that I suspect affects a fair number of applications, including some that I&#39;ve implemented.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2014/06/03/the-future-of-mongoosejs">The Future of MongooseJS</a></h2><div class="title-byline-container"><div class="credits">June 03, 2014</div></div></div><div class="row"><div class="col-lg-3"><img src="//html5hub.com/wp-content/uploads/2013/11/es6-hiway-sign.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>Two weeks ago marked a big milestone: <a href="https://github.com/LearnBoost/mongoose/blob/master/History.md#390-unstable--2014-05-22">mongoose 3.9.0</a> was released. Be warned, mongoose&#39;s versioning practice is that even numbered branches are stable and odd are unstable. While all our tests check out on 3.9.0, I would recommend sticking to 3.8.x releases in production for now. 3.9.0 was mongoose&#39;s first unstable release since October 2013. While the changes in 3.9.0 were relatively minor, they open the door to getting some interesting features into 4.0. Here are some of the high-level features I think should make it in to 4.0:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2014/05/09/whats-new-in-mongoose-3-8-9">What's New in Mongoose 3.8.9</a></h2><div class="title-byline-container"><div class="credits">May 09, 2014</div></div></div><div class="row"><div class="col-lg-3"><img src="//houstonbeerweek.com/cal/uploads/mvsc.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>I have an important announcement to make: over the last couple weeks I&#39;ve been taking over maintaining <a href="http://mongoosejs.com/">mongoose</a>, the popular MongoDB/NodeJS ODM. I have some very big shoes to fill, <a href="https://twitter.com/aaronheckmann">Aaron Heckmann</a> has done an extraordinary job building mongoose into an indispensable part of the NodeJS ecosystem. As an avid user of mongoose over the last two years, I look forward to continuing mongoose&#39;s storied tradition of making dealing with data elegant and fun. However, mongoose isn&#39;t perfect, and I&#39;m already looking forward to the next major stable release, 4.0.0. Suggestions are most welcome, but please be patient, I&#39;m still trying to catch up on the backlog of issues and pull requests.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2014/04/25/a-nodejs-perspective-on-whats-new-in-mongodb-2-6-part-ii-aggregation-out">A NodeJS Perspective on What's New in MongoDB 2.6, Part II: Aggregation $out</a></h2><div class="title-byline-container"><div class="credits">April 25, 2014</div></div></div><div class="row"><div class="col-lg-3"><img src="//samuellam.files.wordpress.com/2012/09/nodemongo.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>From a performance perspective as well as a developer productivity perspective, MongoDB really shines when you only need to load one document to display a particular page. A traditional hard drive only needs one sequential read to load a single MongoDB document, which limits your performance overhead. In addition, much like how <a href="http://rapgenius.com/Nas-one-mic-lyrics#note-948605">Nas says life is simple because all he needs is one mic</a>, grouping all the data for a single page into one document makes understanding and debugging the page much simpler.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2014/04/10/a-nodejs-perspective-on-whats-new-in-mongodb-2-6-part-i-text-search">A NodeJS Perspective on What's New in MongoDB 2.6, Part I: Text Search</a></h2><div class="title-byline-container"><div class="credits">April 10, 2014</div></div></div><div class="row"><div class="col-lg-3"><img src="//samuellam.files.wordpress.com/2012/09/nodemongo.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>MongoDB shipped the newest stable version of its server, 2.6.0, this week. This new release is massive: there were about <a href="https://github.com/mongodb/mongo/branches">4000 commits</a> between 2.4 and 2.6. Unsurprisingly, the <a href="http://docs.mongodb.org/manual/release-notes/2.6/">release notes</a> are a pretty dense read and don&#39;t quite convey how cool some of these new features are. To remedy that, I&#39;ll dedicate a couple posts to putting on my NodeJS web developer hat and exploring interesting use cases for new features in 2.6. The first feature I&#39;ll dig in to is text search, or, in layman&#39;s terms, Google for your MongoDB documents.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2013/12/02/price-internationalization-with-the-mean-stack">Price Internationalization with the MEAN Stack</a></h2><div class="title-byline-container"><div class="credits">December 02, 2013</div></div></div><div class="row"><div class="col-lg-3"><img src="//thumbs.dreamstime.com/x/small-currency-dice-forex-chart-18044052.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>Displaying prices in different currencies is a common internationalization task for web developers. However, this task can be a bit tricky:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2013/07/29//introduction-to-the-mean-stack-part-two-building-and-testing-a-to-do-list">Introduction to the MEAN Stack, Part Two: Building and Testing a To-do List</a></h2><div class="title-byline-container"><div class="credits">July 29, 2013</div></div></div><div class="row"><div class="col-lg-3"><img src="//developers.google.com/cloud/mean/images/mean_stack.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>In last week&#39;s blog post, I showed you how to install all of the basic tools that you need to get up and running with the MEAN Stack. Didn&#39;t catch that one and need help getting started with the MEAN Stack? You can find everything you need in <a href="http://thecodebarbarian.wordpress.com/2013/07/22/introduction-to-the-mean-stack-part-one-setting-up-your-tools/">Introduction to the MEAN Stack, Part One</a>.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2013/07/22//introduction-to-the-mean-stack-part-one-setting-up-your-tools">Introduction to the MEAN Stack, Part One: Setting Up Your Tools</a></h2><div class="title-byline-container"><div class="credits">July 22, 2013</div></div></div><div class="row"><div class="col-lg-3"><img src="//developers.google.com/cloud/mean/images/mean_stack.png" style="width: 100%"/></div><div class="col-lg-9"><em><p>I&#39;ve received several emails asking for instructions on how to set up a basic MEAN stack app. I&#39;m going to take it one step further and give you guys a two-part post that will walk you through creating your first MEAN stack app- from installing the tools to actually writing the code. In Part One we&#39;ll go through the setup and installation process. Next in Part Two we&#39;ll walk through the steps for building a very simple to-do list. Part One consists of seven steps, although only the first two are are strictly necessary.</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2013/06/06//61">Mistakes You're Probably Making With MongooseJS, And How To Fix Them</a></h2><div class="title-byline-container"><div class="credits">June 06, 2013</div></div></div><div class="row"><div class="col-lg-3"><img src="//www.eacgs.com/wp-content/uploads/MongooseEnvGr_Newsletter_WP_03.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p>If you&#39;re familiar with Ruby on Rails and are using MongoDB to build a NodeJS app, you might miss some slick ActiveRecord features, such as declarative validation. Diving into most of the basic tutorials out there, you&#39;ll find that many basic web development tasks are more work than you like. For example, if we borrow the style of <a href="http://howtonode.org/express-mongodb">http://howtonode.org/express-mongodb</a>, a route that pulls a document by its ID will look something like this:</p>
</em></div></div></div><div class="container-fluid"><div class="row"><h2><a href="/2013/04/29//easy-web-prototyping-with-mongodb-and-nodejs">The MEAN Stack: MongoDB, ExpressJS, AngularJS, and Node.js</a></h2><div class="title-byline-container"><div class="credits">April 29, 2013</div></div></div><div class="row"><div class="col-lg-3"><img src="//www.newmancraneins.com/wp-content/uploads/2012/10/The-Benefits-of-Rapid-Prototyping-in-the-Manufacturing-Industry.jpg" style="width: 100%"/></div><div class="col-lg-9"><em><p><em>This post was featured as a guest blog post for MongoDB on April 30th 2013, which can be found <a href="http://blog.mongodb.org/post/49262866911/the-mean-stack-mongodb-expressjs-angularjs-and">here</a></em></p>
</em></div></div></div></div></div><div class="row"></div></div><style>.native-js {
  visibility: hidden;
  transition: all .25s ease-in-out;
  opacity: 0;
  flex-flow: column nowrap;
  transform: translateY(calc(100% - 35px));
  max-width: 100%;
  }
  
  .native-show {
  visibility: visible;
  position: fixed;
  width: 100%;
  bottom: 0;
  box-shadow: 0 -1px 4px 1px hsla(0, 0%, 0%, .15);
  opacity: 1;
  z-index: 10;
  }
  
  .native-show:hover {
  transform: translateY(0);
  }
  
  .native-img {
  margin-right: 20px;
  max-height: 50px;
  border-radius: 3px;
  width: auto;
  }
  
  .native-sponsor {
  margin: 10px 20px;
  text-align: center;
  text-transform: uppercase;
  transform-origin: left;
  letter-spacing: .5px;
  transition: all .3s ease-in-out;
  font-size: 12px;
  }
  
  .native-show:hover .native-sponsor {
  transform: scaleY(0);
  margin: 0 20px;
  opacity: 0;
  }
  
  .native-flex {
  display: flex;
  padding: 20px 20px 40px;
  text-decoration: none;
  
  flex-flow: row nowrap;
  justify-content: space-between;
  align-items: center;
  }
  
  .native-main {
  display: flex;
  
  flex-flow: row nowrap;
  align-items: center;
  }
  
  .native-details {
  display: flex;
  margin-right: 30px;
  
  flex-flow: column nowrap;
  }
  
  .native-company {
  margin-bottom: 4px;
  text-transform: uppercase;
  letter-spacing: 2px;
  font-size: 10px;
  }
  
  .native-desc {
  letter-spacing: 1px;
  font-weight: 300;
  line-height: 1.4;
  }
  
  .native-cta {
  padding: 10px 14px;
  border-radius: 3px;
  box-shadow: 0 6px 13px 0 hsla(0, 0%, 0%, .15);
  text-transform: uppercase;
  white-space: nowrap;
  letter-spacing: 1px;
  font-weight: 400;
  font-size: 12px;
  transition: all .3s ease-in-out;
  transform: translateY(-1px);
  }
  
  .native-cta:hover {
  box-shadow: none;
  transform: translateY(1px);
  }
  
  @media only screen and (min-width: 320px) and (max-width: 759px) {
  .native-flex {
    flex-wrap: wrap;
    flex-direction: column;
  }
  
  .native-img {
    margin: 0;
  }
  
  .native-details {
    margin: 0;
  }
  
  .native-main {
    margin-bottom: 20px;
    flex-wrap: wrap;
    flex-direction: column;
    text-align: center;
    align-content: center;
  }
  }
  </style><div class="native-js"><script type="text/javascript" src="/js/native.js"></script>

<script type="text/javascript">
  _native.init("CK7DT53N", {
    targetClass: 'native-js',
    display: 'flex',
    visibleClass: 'native-show'
  });
</script>

<div class="native-sponsor">Sponsored by #native_company# - Learn More</div>
<a href="#native_link#" class="native-flex">
  <style>
  .native-js {
    background: linear-gradient(-30deg, #native_bg_color#E5, #native_bg_color#E5 45%, #native_bg_color# 45%) #fff;
  }
  
  .native-details,
  .native-sponsor,
  .native-bsa {
    color: #native_color# !important;
  }
  
  .native-details:hover {
    color: #native_color_hover# !important;
  }
  
  .native-cta {
    color: #native_cta_color#;
    background-color: #native_cta_bg_color#;
  }
  
  .native-cta:hover {
    color: #native_cta_color_hover;
    background-color: #native_cta_bg_color_hover#;
  }
  </style>
  <div class="native-main">
    <img class="native-img" src="#native_logo#">
    <div class="native-details">
      <span class="native-company">#native_title#</span>
      <span class="native-desc">#native_desc#</span>
    </div>
  </div>
  <span class="native-cta">#native_cta#</span>
</a></div><div style="padding-bottom: 100px">&nbsp;</div><script type="text/javascript">var xhr = new XMLHttpRequest();
xhr.open('POST', 'https://g0a3nbw0xa.execute-api.us-east-1.amazonaws.com/prod/track', true);
xhr.setRequestHeader('Content-Type', 'application/json');
xhr.onreadystatechange = function() {};
xhr.send(JSON.stringify({
  path: window.location.pathname,
  hostname: window.location.hostname
}));</script><link rel="stylesheet" href="/style/flexcpc.css"/></body></html>